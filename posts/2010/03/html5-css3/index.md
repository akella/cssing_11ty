---
title: "Презентация про CSS3 и HTML5 на них же"
date: "2010-03-31"
categories: 
  - "fun"
  - "xhtmlcss"
  - "common"
---

Я показывал ее на недавнем [Openwebcamp](http://openwebcamp.org.ua/). Презентация на CSS3 и HTML5 без джаваскрипта. Как надо работает только в Safari и Хроме, но вы уже привыкли, да?

### Предыстория

Началось с того что мне нужно было сделать доклад об использовании новых технологий. Делать его в Powerpoint и потом все время говорить «Ну вы это легко проверите в своём браузере» мне не нравилось, и я решил сделать презентацию целиком на этих эффектах. Вот что получилось. То что получилось устроить все без Javascript — случайность. Приятная.

### Сразу о поддержке браузеров

Это всего лишь презентация, и я c самого начала не преследовал цель полной кроссбраузерности. Мне было важно чтобы она работала в моем Сафари. Однако, в Опере и Фаерфоксе она _будет_ работать, просто в некоторых местах коряво, а кое-где очень коряво. В Хроме она работает отлично, но иногда по непонятным мне причинам хром делает что-то вроде «Я устал от твоего CSS3» и опускает руки. Редко. Вобщем Сафари и Хром наш выбор сегодня.

### [Презентация](http://cssing.org.ua/examples/css3html5/)

В презентации которую я показывал на конференциях ссылки были скрыты, было видно только их черную границу справа, которая становилась красной при фокусе на ссылке. Однако чтобы можно было смотреть ее в интернете, я сделал ссылки видимыми, [кликайте](http://cssing.org.ua/examples/css3html5/).

### о том как это сделано

Структура кода примерно такая:

1. <body>
2. <section id="slide1">
3. <h1>CSS3 и HTML5</h1>
4. <p>Openwebcamp, Киев, 2010</p>
5. </section>

7. <section id="slide2">
8. ...

Каждый `section` — отдельный слайд. Всем им задан:

1. section{
2. position:absolute;
3. top:0;left:0;
4. height:100%;
5. opacity:0;/\*по умолчанию все слайды скрыты\*/
6. }

То есть они отображены все на одном месте, на весь экран, с прозрачностью 0. Кроме этого, в файле содержится навигация, просто список ссылок на все эти слайды-`section`:

1. <ul>
2. <li><a tabindex="100" href="#slide1">slide1</a></li>
3. ...

Навигации тоже заданы координаты через position:absolute;. tabindex тут не просто так, позднее станет ясно зачем он мне.

Но как же я переключаю слайды? Это делается с помощью псевдокласса `**:target**`.

Этот селектор указывает на блоки, которые являются «адресом» внутренней ссылки. То есть при blabla.html#slide21, для блока у которого id="slide21" сработает `:target`.

Результат в CSS выглядит так:

1. section:target{
2. opacity:1;
3. }

То есть при клике на любую ссылку из навигации, слайд на который она ссылается станет видимым. Известное [свойство transition](http://cssing.org.ua/2009/11/04/css-animation/) позволит нам сделать это плавно:

1. section{
2. transition:all 1s linear;
3. }

Таким образом вместо того чтобы отобразить слайд моментально, он будет плавно появляться. Более того, я добавил еще пару эффектов, такой например:

1. .effect-slideleft{
2. left:-100%;
3. opacity:1;
4. transition:all 1s ease-in-out;
5. }

Это значит по умолчанию слайд будет смещен влево от экрана, а при клике плавно изменит положение. (opacity:1 значит что прозрачность не будет анимироваться). А вот эффект кручения-исчезновения в центр:

1. .effect-rotate{
2. transform:rotate(360deg) scale(.01) translate(50%, 50%);
3. transition:all 1s ease-in-out;
4. }

Подробнее об играх с transform можно почитать в [моем же посте](http://cssing.org.ua/2009/11/04/css-animation/)

### Как переключать слайды пультом?

Я написал небольшой [applescript](http://en.wikipedia.org/wiki/AppleScript), который по нажатию Apple Remote табулировался по ссылкам навигации (вот зачем tabindex), и по нажатию на пульте «Play» — кликал на них. Это единственная часть которую по понятным причинам трудно реализовать совсем без скрипта.

Хотя у меня была идея построить все на -webkit-transition-delay (расписать в CSS появление каждого слайда по времени). Но тогда даже я сам считал бы себя психом. Если кому-то интересно итоговый скрипт выглядел примерно так (табулирование + enter):

1. on nextElement()
2. simulate keycode 48 with option
3. simulate keycode 76
4. end nextElement

Это я позаимствовал из [Sofa Control](http://www.gravityapps.com/sofacontrol/index.html).

### Почитать

- [Сама презентация](http://cssing.org.ua/examples/css3html5/) и ее [ядро](http://cssing.org.ua/examples/css3html5/css/base.css)
- [CSS3.info](http://www.css3.info/)
- [HTML5 спецификация](http://dev.w3.org/html5/spec/Overview.html)
- [Еще вариант движка на Django](http://kigorw.com/articles/talks-engine)
- [S5](http://meyerweb.com/eric/tools/s5/s5-intro.html) один из первых движков для презентаций в браузере

Буду рад услышать ваши мысли про эту затею. Надеюсь она вдохновит кого-то на что-нибудь еще клёвое :)
