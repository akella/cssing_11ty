---
title: "Префиксы, вебкит и вебстандарты"
date: "2012-02-14"
humanDate: "14 Feb, 2012"
permalink: "2012/02/14/panic/"
tags: 
  - "fun"
  - "web-standards"
comments: 
  -  author: "Михаил Якименко"
     id: "44050"
     url: "http://macgera.com.ua"
     date: "2012-03-16 21:49:06"
     humandate: "16 Mar, 2012"
     content: | 
       <blockquote>Так что плюй осторожнее ;)</blockquote>

     email: "macgera@gmail.com"

  -  author: "Михаил Якименко"
     id: "44051"
     url: "http://macgera.com.ua"
     date: "2012-03-16 21:52:12"
     humandate: "16 Mar, 2012"
     content: | 
       <blockquote>Так что плюй осторожнее ;)</blockquote> ну то понятно что осторожней. Я же образно, и на тот момент в эмоциях, но суть то.. я пртив префиксов вообще, но с другой стороны и <a href="http://w3c.org" rel="nofollow">w3c</a>, <a href="http://www.whatwg.org/" rel="nofollow">WHATWG</a> тормозят со скоростью 20 пирожков в час! Разве не так?

     email: "macgera@gmail.com"

  -  author: "KARPOLAN"
     id: "40673"
     url: "http://karpolan.com"
     date: "2012-02-15 14:57:29"
     humandate: "15 Feb, 2012"
     content: | 
       А где кнопка Like? Можно хоть в HTML5 хоть iFrame :)))

     email: "karpolan@karpolan.com"

  -  author: "Keyten"
     id: "80018"
     url: ""
     date: "2012-09-23 12:52:19"
     humandate: "23 Sep, 2012"
     content: | 
       Просто надо сделать правило: если браузер придумал какое-то своё, уникальное свойство - пусть юзает префикс.
       Если же свойство уже в стандарте (пусть даже в самом черновике) - оно ДОЛЖНО БЫТЬ БЕЗ ПРЕФИКСА!

     email: "mirosh96@mail.ru"

  -  author: "akella"
     id: "40645"
     url: "http://cssing.org.ua"
     date: "2012-02-15 11:11:28"
     humandate: "15 Feb, 2012"
     content: | 
       <blockquote>А я плевал на стандарты. Почему?</blockquote>
       Ну, когда в целом в стандартах-вебе порядок, и появляются такие отклонения - на них легко плевать конечно. Но набор таких вот мелочей может сделать жизнь разработчиков снова почти невыносимой. Так что плюй осторожнее ;)

     email: "akella.a@gmail.com"

  -  author: "subzey"
     id: "40647"
     url: ""
     date: "2012-02-15 11:23:34"
     humandate: "15 Feb, 2012"
     content: | 
       А еще лет через пять свойства будут называться «-ms-webkit-border-radius».

     email: "subzey@gmail.com"

  -  author: "Максим Гладких"
     id: "40636"
     url: "http://gladkih.su"
     date: "2012-02-15 09:57:31"
     humandate: "15 Feb, 2012"
     content: | 
       Спасибо за объяснение. Всегда придерживался стандартов и из-за паники вокруг этого префикса впал в лёгкий ступор.

     email: "blacktears.bel@gmail.com"

  -  author: "Андрей Ситник"
     id: "40565"
     url: "http://sitnik.ru"
     date: "2012-02-14 21:24:51"
     humandate: "14 Feb, 2012"
     content: | 
       Проблему отлично решает Compass. В коде разработчики не думают о префиксах, просто пишут +border-radius, а Compass уже сам вставляет текущие префиксы. Очередной браузер стал поддерживать свойство (может даже немного по другому) — разработчик просто обновит Compass и его стили сами обновятся (ему можно даже не следить за браузерами). Так уже у нас было с градиентами под Оперой.

     email: "andrey@sitnik.ru"

  -  author: "akella"
     id: "40571"
     url: "http://cssing.org.ua"
     date: "2012-02-14 22:40:40"
     humandate: "14 Feb, 2012"
     content: | 
       Ну да, но жаль что compass подходит не всем :( хотя как вариант приучающий к правильному очень да.

     email: "akella.a@gmail.com"

  -  author: "Роман Комаров"
     id: "40575"
     url: "http://kizu.ru"
     date: "2012-02-14 23:23:50"
     humandate: "14 Feb, 2012"
     content: | 
       Спасибо за понятное объяснение, и, отдельно, за ссылку на статистику свойств, полезно!
       
       Меня в последнее время немного иной вопрос интересует: стоит ли всегда использовать значение без префикса пока свойство находится в активной разработке спецификаторами? Скоро, вероятно, будет небольшая волна поломавшихся градиентов из-за того, что они были вставлены «на будущее», но по новым, безпрефиксным, реализациям там появятся изменения, которые могут что-то поломать.
       
       И если для градиентов проблемы будут не так страшны (ну, косячный фон — не так страшно), то для иных новых свойств: раскладок и т.д. это может быть критичным.

     email: "kizmarh@ya.ru"

  -  author: "akella"
     id: "40579"
     url: "http://cssing.org.ua"
     date: "2012-02-14 23:51:05"
     humandate: "14 Feb, 2012"
     content: | 
       Думаю в ситуации с градиентами, судя по их настроениям - они предпочтут оставить свой префиксный вариант рабочим еще очень долго. Синтаксис уже разошелся по сети, а они все так боятся что-то поломать, что мы, наверное, в безопасности =)
       
       Кроме этого, они там вот в этой самой дискуссии обсуждали что вот в такой ситуации:
       #blabla{
       -webkit-border-radius
       border-radius}
       Возможно -webkit-border-radius в вебките должен иметь бОльший приоритет чем стандартное свойство. А Могилевский вообще вон предлагает убить префиксы -moz-ms-webkit-o и ввести префиксы -rfc770- по версиям спецификаций.

     email: "akella.a@gmail.com"

  -  author: "Михаил Якименко"
     id: "40601"
     url: "http://macgera.com.ua"
     date: "2012-02-15 04:40:43"
     humandate: "15 Feb, 2012"
     content: | 
       Странно как-то все. Недавно с Макеевым перепалка в Твиттере была. На самом деле, Юр, весь твой пост можно свести к одному: Браузеры пытаются сохранить свои позиции на рынке, а фанатичные разработчики ноют, что обидели их браузеры и прикрываются ненавистью к webkit. 
       
       А я плевал на стандарты. Почему? Да потому что мир ЛЕТИТ вперед, а стандарты.. как всегда. Вот и получается раз нет стандартов, а нужно, то вебкит (гугл и эпл) создали свое. Потому как ложка дорога к обеду!

     email: "macgera@gmail.com"

  -  author: "Андрей Ситник"
     id: "40660"
     url: "http://sitnik.ru"
     date: "2012-02-15 13:35:36"
     humandate: "15 Feb, 2012"
     content: | 
       Кому Compass может не подходить? У нас Диновский верстает с ним статичные макеты. Compass как раз и расширяет sass не только библиотеками, но и консольными инструментами для standalone-работы (типа compass watch, который следит за изменениями файлов в папке и всё пересобирает).

     email: "andrey@sitnik.ru"

  -  author: "akella"
     id: "40662"
     url: "http://cssing.org.ua"
     date: "2012-02-15 13:40:01"
     humandate: "15 Feb, 2012"
     content: | 
       <blockquote>Кому Compass может не подходить?</blockquote>
       
       Внутри компаний это отличная штука. Но для фрилансера это подойдет далеко не всегда. Если бы его использовали все компании - подходил бы всем. 
       
       Но для фрилансера получится что он сверстает проект в sass, а клиенту и его разработчикам на поддержку достанется сгенерированный некрасивый css. Ну, или, им тоже придется использовать sass, что маловероятно обычно.

     email: "akella.a@gmail.com"

  -  author: "vitvad"
     id: "40663"
     url: ""
     date: "2012-02-15 13:49:20"
     humandate: "15 Feb, 2012"
     content: | 
       <a href="http://www.prefixr.com/api/usage/" rel="nofollow">link</a>
       
       это для добавления всех префиксов, пишем чистый цсс без префиксов, в конце запускаем этот плагинчик - получаем цсс с префиксами, в правильном порядке.
       Пичалька состоит в том что плагин идет .dll во всяком случае для notepad++ и редактировать ручками довольно затруднительно

     email: "job4vad@gmail.com"

  -  author: "Никита Селецкий"
     id: "40649"
     url: "http://seleckis.lv"
     date: "2012-02-15 11:49:29"
     humandate: "15 Feb, 2012"
     content: | 
       Считаю что нужно от имени веб-разработчиков написать призыв к Webkit и W3C отменить префиксы

     email: "nikita@seleckis.lv"

  -  author: "akella"
     id: "40657"
     url: "http://cssing.org.ua"
     date: "2012-02-15 13:20:15"
     humandate: "15 Feb, 2012"
     content: | 
       Ну оно-то вроде да, но, как они их отменят, если их используют уже люди? Значит их придется поддерживать. А с другой стороны - если отменить их вообще, то как создавать новые свойства-стандарты? 
       
       Чтобы какое-то из них стало стандартом обязательно нужны его реализации в браузерах. Но если их называть border-radius а не -moz-border-radius, то они типа могут не совсем отвечать реальной спецификации, ведь пробные еще.
       
       Хотя я вобщем считаю что префиксов быть не должно было. И то что во втором абзаце - меньшая проблема.

     email: "akella.a@gmail.com"

  -  author: "Interes"
     id: "64276"
     url: "http://tdinteres.ru/"
     date: "2012-06-18 09:44:01"
     humandate: "18 Jun, 2012"
     content: | 
       Спасибо за информацию, очень интересно, а главное полезно было для меня.

     email: "tdinteres32@ukr.net"

  -  author: "Дмитрий"
     id: "40798"
     url: ""
     date: "2012-02-16 13:29:39"
     humandate: "16 Feb, 2012"
     content: | 
       Верстайте в Sublime Text 2 и используйте заготовленные сниппеты со всеми нужными префиксами, вот и все

     email: "dmitri.voronianski@gmail.com"

  -  author: "Шурик"
     id: "41373"
     url: ""
     date: "2012-02-21 20:56:33"
     humandate: "21 Feb, 2012"
     content: | 
       Оффтоп.
       Юрий и многозадачный мужик
       http://monk.com.ua/uploads/images/00/00/01/2012/02/20/6bdbdc.jpg

     email: "arinor@i.ua"

  -  author: "akella"
     id: "41387"
     url: "http://cssing.org.ua"
     date: "2012-02-21 23:59:06"
     humandate: "21 Feb, 2012"
     content: | 
       Да ну, не похож :)

     email: "akella.a@gmail.com"

  -  author: "GreLI"
     id: "40714"
     url: ""
     date: "2012-02-15 22:23:35"
     humandate: "15 Feb, 2012"
     content: | 
       Роман Комаров (aka kizu), думаю, что использование префиксных допустимых если сайт находится на постоянной поддержке, то есть таких как фейсбук, гугль или яндекс. Если сайт надо сдавать заказчику, то максимум — для поддержки уже вышедших свойств в старых, но пока популярных версиях браузерах. Большую свору таких на данный момент представляют собой мобильные андроид-браузеры, Firefox 3.6.
       
       akella, градиенты скоро выйдут. У модуля CSS3 Images уже недавно был статус Last Call («Последний созыв»), а значит его готовят к выпуску. Можно говорить о том, что синтаксис с большой вероятностью уже не изменится (кроме частей, находящихся «под риском»).
       
       P.S. Лично я градиенты пока не использую, предпочитая картинки. Во-первых, лень все эти префиксы писать и проверять где какой синтаксис поддерживается. Во-вторых, data:uri картинку вписать проще. Самым нужным новым свойствам: border-radius и box-shadow префиксы уже не нужны.

     email: "greli@mail.ru"

  -  author: "Андрей Ситник"
     id: "40717"
     url: "http://sitnik.ru"
     date: "2012-02-15 22:38:00"
     humandate: "15 Feb, 2012"
     content: | 
       Чем это после Compass стили менее красивые, чем если писать вручную. Sass очень гибкий и в том числе имеет разное форматирование.
       
       Но в любом случае, мы сейчас обсуждает только проблему с префиксами — и использование Sass — прекрасное решение проблемы. Разработчик Compass об этом и пишет.
       
       А указанная тобой проблема выбора технологий у верстальщика происходит только из-за того, что верстальщик вынесен за процесс разработки. В такой ситуации вообще сложно добиться хороших результатов.

     email: "andrey@sitnik.ru"

  -  author: "akella"
     id: "40729"
     url: "http://cssing.org.ua"
     date: "2012-02-16 00:44:20"
     humandate: "16 Feb, 2012"
     content: | 
       <blockquote>Во-первых, лень все эти префиксы писать и проверять где какой синтаксис поддерживается. Во-вторых, data:uri картинку вписать проще.</blockquote>
       Ну не знаю, есть же SASS и http://www.colorzilla.com/gradient-editor/ , мне кажется это все же проще чем data:uri =)
       
       <blockquote>Sass очень гибкий и в том числе имеет разное форматирование.</blockquote>
       Да, я видел, но все равно для фриланса это имеет мало смысла. Только если уж очень нравится именно SASS и в нем писать все. Больше заморочек чем выгоды для фриланс проектов.

     email: "akella.a@gmail.com"

  -  author: "Filsh"
     id: "40941"
     url: "http://blog.rapository.com"
     date: "2012-02-17 18:17:53"
     humandate: "17 Feb, 2012"
     content: | 
       Ну Sublime Text 2 хорош почти во всем, но проблему кроссбраузерной верстки он не решает. Я предпочитаю все допиливать ручками)

     email: "imaliy@i.ua"

  -  author: "iurevych"
     id: "44718"
     url: "http://"
     date: "2012-03-22 03:23:17"
     humandate: "22 Mar, 2012"
     content: | 
       akella, конвертер саса в цсс настраиватся и в итоге css выглядит как нужно.
       
       Я тоже за идею помещать пачки вендор-префиксов в миксины и потом их вызывать как +transition(all .2s) к примеру ;)

     email: "iurevych@gmail.com"

  -  author: "ganges"
     id: "50637"
     url: ""
     date: "2012-04-23 15:53:35"
     humandate: "23 Apr, 2012"
     content: | 
       Тех, кто "плевал на стандарты", хочется с поучительными нравоучениями пинками загнать примерно в 2002 и заставлять верстать HTML таблицами. И переверстывать. И - переверстывать, обниматься и плакать и снова верстать. Ребята, вы походу просто не знаете что это такое для верстальщика - "довебстандартный" Веб.

     email: "andrey.stefanenko@gmail.com"

  -  author: "Евгений"
     id: "231765"
     url: ""
     date: "2014-08-11 12:31:57"
     humandate: "11 Aug, 2014"
     content: | 
       Видимо действительно редкие свойства. Пока не встречал описание. 
       Сорри!

     email: "parabellum3@gmail.com"

  -  author: "akella"
     id: "231771"
     url: "http://cssing.org.ua"
     date: "2014-08-11 13:12:38"
     humandate: "11 Aug, 2014"
     content: | 
       Дык, это не свойства, это опечатки в свойствах, но в рейтинге всех употребляемых свойство они чаще всего встречаются среди всех других свойств с опечатками.

     email: "akella.a@gmail.com"

  -  author: "Евгений"
     id: "231664"
     url: ""
     date: "2014-08-10 13:30:57"
     humandate: "10 Aug, 2014"
     content: | 
       Граммар-наци негодует от ошибок в предложении: 
       "Кстати одни из самых редкоупотребляемых свойств dispaly и heigth, я, периодически, их тоже использую! Yeah!"
       display &amp; height!
       "Sublime text + emmet" поглощает неокрепшие умы своей услужливой автобстановкой слов :)

     email: "parabellum3@gmail.com"

  -  author: "akella"
     id: "231665"
     url: "http://cssing.org.ua"
     date: "2014-08-10 14:08:42"
     humandate: "10 Aug, 2014"
     content: | 
       Там нет ошибок, это вобщем-то так и задумано, что такие опечатки самые популярные в рейтинге свойств.

     email: "akella.a@gmail.com"

layout: "layouts/post.njk"
excerpt: "В верстальщицкой сфере наконец хоть что-то происходит! И я даже не про свой первый пост за полгода! О забавной ситуации с браузерами на базе webkit и всеми остальными.
"
---

В верстальщицкой сфере наконец хоть что-то происходит! И я даже не про свой первый пост за полгода! О забавной ситуации с браузерами на базе webkit и всеми остальными.
<!--more-->
<h3>суть проблемы вкратце</h3>
В данный момент некоторые мобильные браузеры теряют аудиторию из-за того, что многие сайты сделаны исключительно под webkit-браузеры (iPhone, iPod, iPad). Чтобы сохранить свою аудиторию они (браузеры) хотят начать «притворяться» webkit и поддерживать -webkit-*** свойства, в частности -webkit-text-size-adjust и какие-нибудь другие. 

Кроме этого, и, что я думаю важнее, им придется отдавать такой user agent, чтобы фильтры принимали их за вебкит браузер (deja vu?), несмотря на то, что они им не являются.

Из-за этого многие стандартисты в ужасе. «Интернет катится в ад» и все такое :)

Но мне все это кажется забавным, и это возможность заглянуть в мир стандартов.
<h3>Почему это многих пугает</h3>
Во-первых потому что это как-то философски неправильно. Вот написал я в CSS <code>-webkit-border-radius:10px;</code> а окажется что граница закруглится и в Мозилле. А я, может, не хотел. 

А, предположим, я дурак, и я писал всегда только <code>-webkit-border-radius</code> и не добавлял просто <code>border-radius</code> (как это по стандартам должно быть). И сайт был красивый только в iPhone, но никогда в Опере. А потом вдруг Опера начала поддерживать <code>-webkit-border-radius</code>. И все стало красивым и в Опере, зачем мне тогда использовать что-то кроме <code>-webkit-border-radius</code>?

А потом я привыкну и захочу чтобы все свойства -webkit- работали во всех возможных браузерах. И тогда префиксы (которые были временными), останутся в вебе навсегда. И это, конечно, можно считать полным фиаско и самым страшным сном w3c.

Вобщем, это неправильно. Но.
<h3>Почему это не так уж страшно все</h3>
Потому что все они видят только "ОНИ РЕАЛИЗУЮТ ВЕСЬ ВЕБКИТ", а на самом деле один из инициаторов этого всего Тантек Челик (представитель Mozilla, и «автор» IE5 Mac) <a href="http://lists.w3.org/Archives/Public/www-style/2012Feb/0313.html">говорит вот о чем</a>:

<blockquote>
One possible proposal is to only parse other vendors' prefixes in conjunction with parsing unprefixed. e.g. with -webkit-transform. We wouldn't parse that until we also parse transform.
</blockquote>


<blockquote>plinss: You're telling authors to just use webkit prefixes, we'll make it work.
Tantek: No, we're only implementing a <strong>small minimized number</strong> of these.</blockquote>
Никто не собирается сделать вебкит универсальными свойствами, скорее они хотят залатать дыры, пару важных свойств, чтобы их браузеры сейчас хоть как-то отображали iphone-сайты.

Более того, предлагают решить эту проблему только для мобильных, тогда вообще использовать только -webkit- будет ненадежно, и придется писать все свойства рано или поздно.

<blockquote>fantasai: What if -webkit- was implemented only for mobile? That would add
             the unreliability factor that Tantek was asking for, because it
             would not work on desktop. And that would bias authors to using
             unprefixed, which is what we want.</blockquote>

В конце концов все пришли к мнению что от всех префиксов надо избавляться :). Чего и вам советую.

<h3>Реальная статистика свойств</h3>
Чтобы исследовать этот вопрос мозилловцы даже <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=708406">распарсили кучу CSS файлов</a>, чтобы понять насколько велика проблема и какие свойства с префиксами используются. Статистика 30 000 сайтов, и примерно 90 000 CSS файлов. 

<p class="img con"><img src="http://i.imgur.com/9lpoO.png" alt="" /><span>Среди прочего, рейтинг использования css-свойств вообще. Width уверенно побеждает.</span></p>
Кстати одни из самых редкоупотребляемых свойств <code>dispaly</code> и <code>heigth</code>, я, периодически, их тоже использую! Yeah!

А вот рейтинг префиксных свойств.
<p class="img con"><img src="http://i.imgur.com/XCR5b.png" alt="" /><span>Скругления и тени побеждают с отрывом</span></p>
Забавно, но ни одному из этих свойств уже год префиксы не нужны. Потому, ну кому какой вред от того что -webkit-border-radius заработает в  Mozilla? Вряд ли бы кто-то это вообще заметил.

Все данные которые я обрабатывал <a href="https://bug708406.bugzilla.mozilla.org/attachment.cgi?id=579830">лежат вот тут</a>, можете сами поиграться.
<h3>Кто виноват</h3>
Конечно, все валят вину друг на друга. 

Теперь w3c и браузеры говорят что виноват Webkit, который не сабмитит стандарты. Вебкиту, при этом как-то все равно. Другие хвалят Webkit за инновации, но винят во всем стандартистов и лень Webkit.

И в конце концов многие вдруг решили что виноваты разработчики! 

Более того, на некоторых популярных блогах можно прочитать даже такую идеологически правильную фигню:
<blockquote>We at Webmonkey hope it’s obvious that building WebKit-only sites is a waste of time.</blockquote>

О, да.
Конечно, по-хорошему надо делать для всех, но говорить что делать сайты только для вебкит - трата времени, перегиб в другую сторону.
Кого из нас когда-то просили сделать сайт для Fennec или Opera Mini? 

Хоть код и надо писать правильно, для всех, но спихивать ответственность на разработчиков тут тоже не очень верно. Они делали то, за что им платили деньги.  

Я думаю никто не виноват, просто веб стал меняться слишком быстро, и процесс стандартов-реализации не успевает за ним. А тут еще эти префиксы которые уже давно все можно было отменить, но CSS WG не решается это сделать толком. А еще этот вебкит который столько всего наделал нового, и за ним мало кто успел.

Вобщем, виновник этой забавной ситуации, разве что  популярность Андроида и Айфона.

А все остальные просто пытаются сохранить свои доли на рынке. На самом деле браузеры ходили этим путем уже много-много-много раз. Достаточно почитать <a href="http://webaim.org/blog/user-agent-string-history/">историю user agent string</a>, чтобы понять что все притворяются всеми, и никто еще не умер. Хотя, порядка это тоже не добавляло.

Такие пироги в нашей веб-стандартной песочнице.
<h3>Почитать об этом же</h3>
<ul>
<li>Update! <a href="http://www.alistapart.com/articles/the-vendor-prefix-predicament-alas-eric-meyer-interviews-tantek-celik/">Интервью в Тантеком о том что они собираются делать с этим в Мозилла</a></li>
<li><a href="http://lists.w3.org/Archives/Public/www-style/2012Feb/0313.html">«Исторические» разговоры браузеров и стандартистов о реализации -webkit-  свойств</a></li>
<li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=708406">Исследование префикс-свойств от Мозиллы</a></li>
<li><a href="http://www.glazman.org/weblog/dotclear/index.php?">Мысли на эту же тему от главы CSS Working Group</a></li>
<li><a href="http://www.webmonkey.com/2012/02/webkit-isnt-breaking-the-web-you-are/">Одна из полупанических статей которые меня забавляют</a></li>
<li><a href="http://remysharp.com/2012/02/09/vendor-prefixes-about-to-go-south/">Отличная объективная статья об этом всем от Remy Sharp</a></li>
</ul>
<h3>Что делать?</h3>
Да ничего, верстать по стандартам,  и стараться <strong>всегда использовать свойства без префиксов</strong>. Потому что главным результатом этой миниинтрижки, я думаю, будет постепенный отказ от префиксов вообще. Наконец-то.

Буду рад и вашему мнению об этом всем, особенно если оно отличается от моего :)

TL;DR: Webkit популярен, CSS WG медленное и педантичное, разработчики ленивые, Opera-IE-Moz тоже хотят жить, Жизнь прекрасна.
