---
title: "Проблема со списками в IE"
date: "2008-03-08"
humanDate: "08 Mar, 2008"
permalink: "2008/03/08/ul-li-ie-bug/"
tags: 
  - "xhtmlcss"
  - "useful"
comments: 
  -  author: "Алексей"
     id: "15544"
     url: ""
     date: "2010-02-11 13:12:48"
     humandate: "11 Feb, 2010"
     content: | 
       А я просто использую такой метод: * html ul#menu li{height:1%;}

     email: "amelex@mail.ua"

  -  author: "max"
     id: "15010"
     url: ""
     date: "2009-12-22 23:04:44"
     humandate: "22 Dec, 2009"
     content: | 
       Довольно поздно наткнулся на Ваш пост, у меня проблема решилась установкой
       li{border-bottom: 1px;}

     email: "max@mail.ru"

  -  author: "pepelsbey"
     id: "11970"
     url: "http://pepelsbey.net/"
     date: "2008-03-10 02:42:47"
     humandate: "10 Mar, 2008"
     content: | 
       Есть ещё обалденный трюк:
       
       LI { display:inline-block; }
       LI { display:block; }
       
       Причём пишется именно так, в разных группах правил. Иногда помогает ) Стащил у Роджера нашего Йохансена.

     email: "pepelsbey@gmail.com"

  -  author: "Vitaly Harisov"
     id: "11968"
     url: "http://vitaly.harisov.name"
     date: "2008-03-09 23:24:46"
     humandate: "09 Mar, 2008"
     content: | 
       Под MSIE8 не надо хакать, надо сразу репортить в виде минимального тест-кейса. Время на исправление ещё есть.

     email: "vitaly@harisov.name"

  -  author: "akella"
     id: "11969"
     url: "http://cssing.org.ua"
     date: "2008-03-09 23:36:43"
     humandate: "09 Mar, 2008"
     content: | 
       Абсолютно верно, спасибо, это моя политическая ошибка. Подготовил тесткейс, отсабмичу. Немного поправил пост. 
       Оставил хак из чисто исторических соображений. Вдруг кого-то это позабавит в 2125 году.

     email: "seijuro@yandex.ru"

  -  author: "akella"
     id: "11974"
     url: "http://cssing.org.ua"
     date: "2008-03-10 11:40:35"
     humandate: "10 Mar, 2008"
     content: | 
       Добавил на тестовую страничку и этот вариант=) Номер 8. Спасибо!
       
       Сам по себе код не сработал (остались маленькие отступы), но добавив vertical-align:top - все стало как надо :).
       Кстати, Бруно высказал мысль что когда li{имеет haslayout}, то ведут они себя как inline-block, которым как раз не хватает вертикального выравнивания. Вот и получается подтверждение теории =)

     email: "seijuro@yandex.ru"

  -  author: "Del'ka"
     id: "11977"
     url: ""
     date: "2008-03-11 11:38:10"
     humandate: "11 Mar, 2008"
     content: | 
       очень интерестно! 
       
       хотя с такими проблемами несталкивался, хотя читал по них... ну как то на простых списках не встречались, а на сложных оно само-собой hasLayout-ные свойства и для li и для a требуются.
       
       хотя... вот, вспомнил, давным-давно ( с год назад наверно) добавил себе в ie6.css такое правило:
       ul li {position: relative}
       насколько помню добавил потому что лечило многие странные проблемы...
       может по-этому и не сталкиваюсь почти...
       
       для 5.5 добавляю ul li {zoom: 1}
       для 5.0 сбрасываю position и возращаю layout ul li {position: static; height: 1%}
       
       кстати все примеры в твоём тесте у меня в 6-ке отобразились правильно

     email: "delka@anime.kharkov.ua"

  -  author: "akella"
     id: "11978"
     url: "http://cssing.org.ua"
     date: "2008-03-11 11:41:33"
     humandate: "11 Mar, 2008"
     content: | 
       Это могло быть из-за того, что твоя шестерка уже юзает движок 7рки, или даже 8ки. Если ты ее поставил =). Хотя все равно странно, у меня Windows XP Pro, IE6 стандартный (не Standalone). А у тебя какой комплект?
       
       PS: про ие5* я стараюсь как-то начинать забывать =) Хотя, понимаю, не все могут это себе позволить.

     email: "akella.a@gmail.com"

  -  author: "Del'ka"
     id: "11980"
     url: "http://anime.kharkov.ua"
     date: "2008-03-11 17:49:50"
     humandate: "11 Mar, 2008"
     content: | 
       на работе (где и идёт основная работа): базовый IE6, standalone IE7 (по мануалу из http://tredosoft.com/IE7_standalone) и standalone 5.0 и 5.5 (из multiple-ie-setup)
       
       дома: базовый IE7 и standalone IE5.0/5.5/6.0 (multiple-ie)
       
       вот ещё 8-ку хочу попробовать в standalone расковырять.
       
       проверил на работе щас - всё равно все примеры работают. А тут у меня чистый IE6.

     email: "delka@anime.kharkov.ua"

  -  author: "Юрко"
     id: "11981"
     url: ""
     date: "2008-03-11 21:36:22"
     humandate: "11 Mar, 2008"
     content: | 
       Маячня! Не працює в Віслючку під Мак ОС Х. Не перевіряв, але певен!

     email: "satan@disney.com"

  -  author: "seriy"
     id: "11990"
     url: "http://slegen.com"
     date: "2008-03-15 20:30:49"
     humandate: "15 Mar, 2008"
     content: | 
       a{display:block}
       to lechica ystanovkoi shirini dlya <a> ( a{width:100px} )

     email: "info@slegen.com"

  -  author: "akella"
     id: "11993"
     url: "http://cssing.org.ua"
     date: "2008-03-16 00:30:02"
     humandate: "16 Mar, 2008"
     content: | 
       Указание ширины как раз и является триггером hasLayout. Но не всегда достаточно указания ширины, хотя это и убирает "большие" отступы. Маленькие все еще могут иметь место, при маленьком line-height, или заданной ширине, для, например LI.

     email: "akella.a@gmail.com"

  -  author: "Сергей"
     id: "12016"
     url: "http://www.houseofgod.ru/"
     date: "2008-03-21 16:48:24"
     humandate: "21 Mar, 2008"
     content: | 
       С IE вечно какие-то проблемы бывают.

     email: "SergikVasilev@yandex.ru"

  -  author: "Владик"
     id: "12017"
     url: "http://kweezo.ru/"
     date: "2008-03-22 11:14:42"
     humandate: "22 Mar, 2008"
     content: | 
       Мне кажется, что про IE давно уже пора забыть как про браузер - у него постоянно что-то не так. (

     email: "KonstantVlad@yandex.ru"

  -  author: "Наталья"
     id: "12021"
     url: "http://coolsmart.ru"
     date: "2008-03-23 18:16:45"
     humandate: "23 Mar, 2008"
     content: | 
       Выход нового IE еще больше доставит проблем верстальщикам... Спасибо за совет, в коментах приведен еще одни интересный вариант, pepelsbey, вам тоже спасибо.

     email: "coolsmartmail@mail.ru"

  -  author: "Del'ka"
     id: "12025"
     url: "http://anime.kharkov.ua"
     date: "2008-03-24 21:54:27"
     humandate: "24 Mar, 2008"
     content: | 
       сегодня закончил один красивый макет, и для IE5.0 действительно помог vertical-align:top ! - были маленькие отспуты, а с нми - пропали и стало как надо)
       
       спасибо!

     email: "delka@anime.kharkov.ua"

  -  author: "Del'ka"
     id: "12026"
     url: "http://anime.kharkov.ua"
     date: "2008-03-24 21:59:14"
     humandate: "24 Mar, 2008"
     content: | 
       кстати с различной работой IE6 в оригинале и в standalone несталкивался
       
       зато однозначно могу сказать что standalone IE5 и 5.5 при дефолтном IE7 подглючивают изображение (оно бывает отрисовывается не всё, а только если подвигаешь края браузера.
       при дефолтной 6-ке всё ок.

     email: "delka@anime.kharkov.ua"

  -  author: "Theo"
     id: "12098"
     url: "http://www.heddex.biz/"
     date: "2008-04-04 13:38:19"
     humandate: "04 Apr, 2008"
     content: | 
       Часто помогает пофиксить большинство самый неожиданных глюков для IE6,5.5.5 установка свойств height:1% или/и position:relative для самих элементов, или родителей (требуется каждый раз небольшой эксперимент).

     email: "theo@ua.fm"

  -  author: "Theo"
     id: "12099"
     url: "http://www.heddex.biz/"
     date: "2008-04-04 13:40:56"
     humandate: "04 Apr, 2008"
     content: | 
       А, ещё. Для полноценного тестирования standalone не подходят - лично часто натыкался на несоответствие реального IE6 и standalone. Причина в "подхватывании" системных dll от нового IE.
       Выход: ставим VMWare, ставим на неё операционку (Win98/2000), клонируем, на каждый клон ставим нужный IE. Имею в результате: IE5, IE5.5, IE6, IE7, Opera, Safari, FireFox. 99% броузеров тестом покрываю.

     email: "theo@ua.fm"

  -  author: "akella"
     id: "12100"
     url: "http://cssing.org.ua"
     date: "2008-04-04 13:50:22"
     humandate: "04 Apr, 2008"
     content: | 
       Абсолютно верно. Подходит указание heigth, width, zoom, position:relative &#8212; все эти свойства являются триггерами упомянутого в посте <a href="http://www.satzansatz.de/cssd/onhavinglayout.html" rel="nofollow">hasLayout</a>.

     email: "akella.a@gmail.com"

  -  author: "sonika"
     id: "12114"
     url: "http://www.sonika.ru/blog/"
     date: "2008-04-04 17:47:19"
     humandate: "04 Apr, 2008"
     content: | 
       Спасибо за пост, даже не догадывалась, что возможно столько способов решения этой проблемы!

     email: "sonika@sonika.ru"

  -  author: "Coldman"
     id: "12247"
     url: "http://coldman.org.ua"
     date: "2008-04-10 15:58:43"
     humandate: "10 Apr, 2008"
     content: | 
       Большие отступы можно лечить если оставить пробел перед закрытием тега /А, удобней чем писать все в одну строку ))

     email: "coldman@bigmir.net"

  -  author: "akella"
     id: "12248"
     url: "http://cssing.org.ua"
     date: "2008-04-10 17:10:36"
     humandate: "10 Apr, 2008"
     content: | 
       Да, этот вариант на <a href="http://cssing.org.ua/examples/ul/ul.html" rel="nofollow">тестовой страничке</a> под номером 3. Но мне не нравится идея вносить правки в ХТМЛ, к тому же за этим вряд ли потом уследят на рабочем проекте, по опыту.

     email: "akella.a@gmail.com"

  -  author: "Сергей"
     id: "12347"
     url: ""
     date: "2008-05-04 12:58:36"
     humandate: "04 May, 2008"
     content: | 
       Спасибо за советы. Первое впечатление от 8 IE были не приятные особенно из-за этой проблемы.

     email: "madonnaazz@mail.ru"

  -  author: "Yevgesha"
     id: "12394"
     url: ""
     date: "2008-05-08 02:20:12"
     humandate: "08 May, 2008"
     content: | 
       Привет всем, случайно забрел...
       Может я туплю... Но LI это по умолчанию display:block; поэтому для IE это не bug
       А вот просто так... 
       li a{ margin:0;padding:0; }, ну или подробно с отступами , если душа лежит или есть нужда. И все... и где проблема?

     email: "to@ponocom.ru"

  -  author: "akella"
     id: "12397"
     url: "http://cssing.org.ua"
     date: "2008-05-08 08:16:04"
     humandate: "08 May, 2008"
     content: | 
       Тут нигде и не упоминается задание для li{display:block}, только для "li a".
       И обнуление margin и padding не поможет, вы все равно увидите отступы в ИЕ. Вы можете это легко проверить прямо сейчас, для удобства я показал как это выглядит в ИЕ, на первой картинке в посте.

     email: "akella.a@gmail.com"

  -  author: "Del'ka"
     id: "12491"
     url: "http://anime.kharkov.ua"
     date: "2008-05-28 20:45:18"
     humandate: "28 May, 2008"
     content: | 
       хм, а теперь отображаются глюки в ИЕ)
       однако))
       хотя ничего ж неменял))
       
       к статье часто возвращаюсь) спасибо!

     email: "delka@anime.kharkov.ua"

  -  author: "Gan"
     id: "12876"
     url: "http://yvelious.com"
     date: "2008-07-15 01:10:01"
     humandate: "15 Jul, 2008"
     content: | 
       Использую обычно для этого это cпособ hasLayout! Помогает! Но возникает другая проблема, когда например в спискe (ul) присвоено значение флоат и не указана ширина то список и активная область в каждой ссылке ужимается до самого размера каждой ссылки(обычно слова-ссылки разной длины) в нормальных браузерах! Тоесть активная область ссылки равняется длине слова! Это в нормальных браузерах!
        При включении haslayaut в ie активная область ссылки на всю ширину браузера! Получается надо указать для списка ul ширину, но это не выход так как слова в списках разной длины и будет получаться так что у коротrих ссылок активная область будет гораздо больше по ширине чем само слово! Что бы это исправить надо еще мутные замуты!
       
       p.s. Понятней и короче объяснить не смог

     email: "slangpro@yahoo.com"

  -  author: "Richard"
     id: "14237"
     url: ""
     date: "2009-03-06 11:41:41"
     humandate: "06 Mar, 2009"
     content: | 
       Кажется, я забыл что нужно заэскейпить теги =)
       Вот как это выглядет:
       &lt;meta http-equiv="X-UA-Compatible" content="EmulateIE7" /&gt;

     email: "rich@richie.com.ua"

  -  author: "Richard"
     id: "14236"
     url: ""
     date: "2009-03-06 11:37:28"
     humandate: "06 Mar, 2009"
     content: | 
       Хочу поделиться еще одним способом. Он, правда, немного "черезжопный", но это не редкость для ИЕ. И сразу говорю, что он хуже уже представленных здесь. Вот:
       li { foat:left; width:100%;}
       Мне часто помогал, но вставала проблема с флоатами, которую обычно решал через
       ul { overflow:hidden; zoom:1;}
       Это не лучший способ, но он работает =)
       
       ВНИМАНИЕ!
       Для тех кто еще не знает. Дабы избежать в будущем проблем с IE8, компания Майкрософт позаботилась о том, чтобы с помощью определенного мета-тега можно было задавать способ рендера ИЕ, то есть эмулировать рендер ИЕ6 или 7. Я применяю эмулирование под ИЕ7 и выглядет это так:
       
       НО! у этого тега есть ограничения, перед этим тэгом в хедере может стоять только другой метатег или тайтл. Подробнее можно почитать у Пепелсбея: http://pepelsbey.net/2008/11/surprise-box/

     email: "rich@richie.com.ua"

  -  author: "Гриша"
     id: "13130"
     url: ""
     date: "2008-08-21 10:58:55"
     humandate: "21 Aug, 2008"
     content: | 
       спасибо
       display:inline-block; width:100%; 
       помогло

     email: "grisha-star@mail.ru"

  -  author: "верстак"
     id: "13352"
     url: "http://www.ya.ru"
     date: "2008-10-03 23:06:52"
     humandate: "03 Oct, 2008"
     content: | 
       мне вот с line-height понравилось, а вот position:relative
       вообще ничего не делает!
       мы тут бьемся в конвульсиях над ие
       и билли нам новуюю ие готовит с новыми багами спасибо ему =)
       а Респект вам ребята полезное дело делаете.

     email: "secret@rambler.ru"

  -  author: "cssing :: Архив :: CSSing 2008"
     id: "13892"
     url: "http://cssing.org.ua/2008/12/30/cssing-2008/"
     date: "2008-12-30 17:45:11"
     humandate: "30 Dec, 2008"
     content: | 
       [...] Проблема со списками в IE &#8212; описание и решение стандартного бага со списками в ИЕ [...]

     email: ""

  -  author: "SelenIT"
     id: "14070"
     url: ""
     date: "2009-02-05 14:32:42"
     humandate: "05 Feb, 2009"
     content: | 
       Буквально вчера впервые осозанно столкнулся с "маленькими отступами" при верстке многоуровневого выпдающего меню (UL &gt; LI &gt; A+UL и т.д.). Удивительное дело — при совершенно одинаковом коде и стилях самих LI и A проблема вылезла исключительно в элементах, содержащих дочерние UL (причем вне зависимости от их <code>display</code> и <code>visibility</code>). Ничего не помогало, пока не вспомнил про vertical-align. Наблюдал в IE6-7 (в 8RC1 — все в норме).

     email: "selenit@mail.by"

  -  author: "Идеи"
     id: "18699"
     url: "http://bidei.ru/"
     date: "2010-06-07 16:55:51"
     humandate: "07 Jun, 2010"
     content: | 
       Очень просто и красиво получилось. Спасибо, наконец-то решил проблему.

     email: "paff90@mail.ru"

  -  author: "Charlesjak"
     id: "508836"
     url: "http://pesok.dostavka.biz.ua/pesokovr.html"
     date: "2021-01-30 15:47:49"
     humandate: "30 Jan, 2021"
     content: | 
       В Случае Если платформа довольно полон, в таком случае совершенно никак не обладает практически никакого значения совершать выдвижные ящики такого рода ведь глубины. Рациональнее совершить их типичных <a href="http://pesok.dostavka.biz.ua/pesokovr.html" rel="nofollow ugc">песок овражный стоимость</a> объемов, но сохранившееся роль завоевать отвесными концепциями сохранения, никак не выступающими надо поверхностью подия. 
       Весьма увлекательным интерьерным заключением имеют все шансы быть подобные концепции сохранения, допуск ко каким исполняется поверх. Во их возможно разместить украшающие компоненты: многоцветные камешки, коллекция растений, коллекцию бабочек также прикрыть поверх здоровым стеклом, никак не опасающимся крупных нагрузок. Платформа, замкнутый ширмой либо расцепной загородкой, преобразуется во раздельное здание.

     email: "eoifkdp@gmail.com"

  -  author: "Charlesjak"
     id: "508780"
     url: "http://pesok.dostavka.biz.ua/pesokovr.html"
     date: "2021-01-30 13:01:29"
     humandate: "30 Jan, 2021"
     content: | 
       Совместно со этим имеются деятельность, в каком месте очищение также гранулярность никак не обладают хитрого значимости. Но означает, применение дорогостоящих использованных материалов никак не необходимо. Еще единственный значимый период – производитель. Правильнее приобрести песочек около фирмы со оптимальной славой, обезопасив себе с низкокачественных также небезопасных строительных материалов. 
       Меря ко собственному жилью либо жилплощади разнообразные виды дизайна внутреннего убранства, никак не торопитесь воздерживаться с такого рода ставшей <a href="http://pesok.dostavka.biz.ua/pesokovr.html" rel="nofollow ugc">овражный песок</a> довольно распространенной во заключительное период системы, равно как платформа. Данное, крайне важное в настоящий период интерьерное разрешение прибыло ко нам с государства всходящего небесного светила, в каком месте со древних времен существовало установлено приподнимать степень фалда.

     email: "eoifkdp@gmail.com"

  -  author: "Charlesjak"
     id: "508685"
     url: "http://pesok.dostavka.biz.ua/pesokovr.html"
     date: "2021-01-30 08:01:40"
     humandate: "30 Jan, 2021"
     content: | 
       Обширный также обособленный масса имеют все шансы различаться, по этой причине присутствие постройке следует принимать во внимание все без исключения грех. Во обычном обширный масса песка во 1 кубик. м является 1500-1800 килограмм. Согласно эталонам стандарт 8736-77 во 1 кубик. м находится 1,6 полиадельфит. Структура также физико-машинные качества семена строй песка около <a href="http://pesok.dostavka.biz.ua/pesokovr.html" rel="nofollow ugc">купить овражный песок</a> микроскопом Структура песка, специализированного с целью постройки, разделяется в: Механический (зерновой); Хим; Минераловый. Механический (зерновой) демонстрирует структура семян со различной размером. С Целью его установления следует отсеивать песочек посредством ситечко со отверстиями конкретного объема (с 0,16 миллиметров вплоть до Десяти миллиметров).

     email: "eoifkdp@gmail.com"

layout: "layouts/post.njk"
excerpt: "Настоящие верстальщики должны слегка поморщиться вспомнив об этом баге.
"
---

Настоящие верстальщики должны слегка поморщиться вспомнив об этом баге.
<!--more-->
Проблема с которой сталкивался, наверное, каждый. Самая банальная ситуация, вертикальное меню, и в дизайне есть хавер-эффект для пунктов меню (или другая причина сделать их блочными).
html:
<ol class="code">
<li>&lt;ul&gt;</li>
<li class="tab">&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;/a&gt;&lt;/li&gt;</li>
<li>&lt;/ul&gt;</li>
</ol>
css:
<ol class="code">
<li>li a{</li>
<li class="tab">display:block;</li>
<li class="tab">}</li>
</ol>
И вуаля, вот что имеем в ИЕ6, например:
<p class="img"><img src="http://cssing.org.ua/examples/ul/ul.png" alt="Отступы между элементами списка в IE" /><span>Отступы между элементами списка в IE</span></p>
<h3>Примеры решений</h3>
Чтобы разобраться с этой проблемой раз и навсегда, я перебрал все возможные рабочие варианты, из них отобрал <a href="http://cssing.org.ua/examples/ul/ul.html">7 наиболее удачных на мой взгляд</a>. Ими и хочу пользоваться в будущем. Решения обычно сводятся к haslayout для LI, A. Или  свойству vertical-align, или удалению пробелов, или изменению line-height.

Из этих вариантов у меня в ИЕ6 рабочими оказались такие: в первой колонке 3, 4, 5, 7, 8. Во второй: все кроме нулевого.

Колонки отличаются только размером line-height. Для первой это 1, для второй 1.4.
Значения 1.13-1.14 &#8212; являются граничными.
<h3>Резюме, или как с этим воевать</h3>
После кучи экспериментов пришел к тому же выводу, что и <a href="http://www.brunildo.org/">Bruno Fassino</a>, глюки с непонятными отступами условно можно разделить на 3 категории:
<table class="data sess">
<thead>
<tr>
<th>отступы</th><th>чем вызвано</th><th>чем лечить</th>
</tr>
</thead>
<tbody>
<tr>
<th>Большие отступы</th>
<td>a{display:block}</td>
<td>удалить пробелы в коде<br /> или haslayout для a <br />(этот баг исправлен в IE7)</td>
</tr>
<tr>
<th>Маленькие отступы </th>
<td>li{haslayout}</td>
<td>li{vertical-align:top}</td>
</tr>
<tr>
<th>Маленькие отступы (второй вид)</th>
<td>маленький line-height + haslayout для li или а</td>
<td>увеличить line-height</td>
</tr>
</tbody>
</table>
Наконец-то я задокументировал самое тёмное для меня место в багах ИЕ =)
<h3>IE8 (не повторять на живых проектах!)</h3>
Буквально сегодня, с подачи <a href="http://www.TJKDesign.com">Thierry Koblentz</a>, узнал хак для IE8. Это скорее любопытный факт, нежели то, что нужно использовать. Тем не менее этот CSS увидит только IE8:
<pre>
/*/ #nav a {position:relative;} /**/ 
</pre>
Фиксит проблему с отступами между элементами списка в ИЕ8. Исправить на стороне броузера, наверное, было очень трудно. Будем надеяться, что баг с отступами в списках исправят одновременно с этим хаком. Я лично отсабмитил эту проблему разработчикам.

<h3>Ссылки</h3>
<ul>
<li><a href="http://cssing.org.ua/examples/ul/ul.html">Примеры списков с разными решениями для ИЕ (смотреть имеет смысл только в ИЕ)</li>
<li><a href="http://www.brunildo.org/test/IEWlispace.php">Примеры бага с блочными ссылками в списках</a>, и очень хорошо задокументированный эксперимент. Фактически вдохновивший меня на его повторение.</li>
</ul>

Если у вас есть чем дополнить, буду рад выслушать и проапдейтить пост!

P.S.: под haslayout я имею ввиду width, height, zoom, position. Любой из этих параметров является триггером этого свойства для блока.
