---
title: "Альфа-каналы в PNG-8"
date: "2008-11-07"
humanDate: "07 Nov, 2008"
permalink: "2008/11/07/png-8-alpha/"
tags: 
  - "xhtmlcss"
  - "design"
  - "useful"
comments: 
  -  author: "Yvelious"
     id: "15360"
     url: "http://yvelious.com"
     date: "2010-02-05 20:16:22"
     humandate: "05 Feb, 2010"
     content: | 
       Почему для картинки png8 c полупрозрачностью не срабатывает фильтр AlphaImageLoader или другие скрипты для отображениея полупрозрачности png в ie6?

     email: "yvelious@gmail.com"

  -  author: "Я"
     id: "14839"
     url: ""
     date: "2009-10-16 11:41:46"
     humandate: "16 Oct, 2009"
     content: | 
       http://clip2net.com/clip/m0/1255682327-clip-120kb.png
       
       перемудрил походу с хайтеком

     email: "xep@vam.ru"

  -  author: "akella"
     id: "14840"
     url: "http://cssing.org.ua"
     date: "2009-10-16 12:13:12"
     humandate: "16 Oct, 2009"
     content: | 
       Может ФФ притворяется кем-то? У меня вот http://img127.imageshack.us/img127/393/picture1jr.png =(

     email: "akella.a@gmail.com"

  -  author: "GodCow"
     id: "14560"
     url: "http://godcow.org"
     date: "2009-06-23 11:38:12"
     humandate: "23 Jun, 2009"
     content: | 
       Я обычно юзаю IePngFix. Хотя последнее время стараюсь обходиться без полупрозрачных изображений.

     email: "z_den@list.ru"

  -  author: "Developer"
     id: "14337"
     url: "http://developing.name/"
     date: "2009-04-06 00:48:18"
     humandate: "06 Apr, 2009"
     content: | 
       забавненько.. хотя, видя "серо-белое уродство" пользователь бы уж задумался об апдейте браузера..

     email: "kit@smtp.ru"

  -  author: "Sam"
     id: "13511"
     url: "http://rmcreative.ru/"
     date: "2008-11-07 13:12:13"
     humandate: "07 Nov, 2008"
     content: | 
       Всё новое — хорошо забытое старое :)
       http://www.sitepoint.com/blogs/2007/09/18/png8-the-clear-winner/

     email: "sam@rmcreative.ru"

  -  author: "akella"
     id: "13512"
     url: "http://cssig.org.ua"
     date: "2008-11-07 13:16:18"
     humandate: "07 Nov, 2008"
     content: | 
       Да, спасибо, в посте еще две ссылки на такие же старые статьи, но при этом мало кто об этом знает все равно =) Я специально опросил коллег, тема малоизвестная и малоиспользуемая.
       И эту добавил в пост. =) 
       P.S.: я, кстати, об этой штуке не знал (как минимум не использовал), хотя и видел эти картинки про лампочки когда-то...

     email: "akella.a@gmail.com"

  -  author: "Юрко"
     id: "13513"
     url: ""
     date: "2008-11-07 13:18:40"
     humandate: "07 Nov, 2008"
     content: | 
       Sam, та то вже весь  інтернет знає. Сьогодні в Акєли звання — Капітан Очєвідность ;)

     email: "zzz@xxx.yyy"

  -  author: "Sam"
     id: "13514"
     url: "http://rmcreative.ru/"
     date: "2008-11-07 13:32:02"
     humandate: "07 Nov, 2008"
     content: | 
       Юрко, не akella прав на самом деле. Я тоже у себя несколько раз об этом напоминал. Каждый раз были благодарные.
       
       Наверное, напомню ещё раз ссылкой на статью.

     email: "sam@rmcreative.ru"

  -  author: "Михаил"
     id: "13521"
     url: "http://designnotfound.ru"
     date: "2008-11-08 00:20:42"
     humandate: "08 Nov, 2008"
     content: | 
       Почему этого нет в Photoshop? Потому что создание макетов для веб — для Photoshop дело десятое. Его основная задача — обработка фото, цветокоррекция, подготовка к печати и прочее, прочее, прочее... Последние две версии хоть перестали в png-24 по поводу и без повода альфа-канал цеплять %)
       
       А вот FireWorks изначально разрабатывался как инструмент веб-дизайнера, потому он умеет больше. Настолько больше, что в Эдоб решили не развивать поделку под названием ImageReady, и поддерживают FireWorks. В отличие от FreeHand, например.
       
       Появилась ли поддержка в CS4? Если не забуду, гляну в понедельник.

     email: "mikhail.baranov@gmail.com"

  -  author: "dobrych"
     id: "13516"
     url: "http://livedev.org"
     date: "2008-11-07 15:37:23"
     humandate: "07 Nov, 2008"
     content: | 
       Супер, для меня это отличная новость! Не знал, спасибо Юра!
       Как раз решил отказываться от поддержки IE в своих проектах и думал что может быть не критичного для пользователей IE в интерфейсе сайта.

     email: "dobrych@gmail.com"

  -  author: "Madman"
     id: "13517"
     url: ""
     date: "2008-11-07 15:46:35"
     humandate: "07 Nov, 2008"
     content: | 
       Знакомая штучка!
       Огромный плюс, что не нужны никакие фильтры и разного рода JS, обычная картинка. На стадии медленного (но уверенного) заката IE6 - это отличная вешь!

     email: "madman2005@mail.ru"

  -  author: "Степан Резников"
     id: "13519"
     url: "http://sreznikov.blogspot.com/"
     date: "2008-11-07 15:59:08"
     humandate: "07 Nov, 2008"
     content: | 
       http://www.artlebedev.ru/tools/technogrette/img/png-4/
       
       Для конвертации полупрозрачного PNG-24 в PNG-8 использую утилиту OptiPNG.

     email: "stepan.reznikov@gmail.com"

  -  author: "akella"
     id: "13520"
     url: "http://cssing.org.ua"
     date: "2008-11-07 20:06:10"
     humandate: "07 Nov, 2008"
     content: | 
       О, спасибо, за ссылку! Мне очень пришлась по душе цитата оттуда:
       <blockquote >Более подробных комментариев не будет...</blockquote>
       В любом случае спасибо, наверняка кому-то пригодится и поможет разобраться лучше!

     email: "akella.a@gmail.com"

  -  author: "akella"
     id: "13523"
     url: "http://twitter.com/akella"
     date: "2008-11-08 11:33:04"
     humandate: "08 Nov, 2008"
     content: | 
       @Михаил, объяснение мне кажется хорошим, но все равно ведь - это было так просто =) всего лишь добавить лишнюю галочку при экспорте в PNG... Но, мы конечно не знаем всех подводных камней этой фичи :(
       За взгляд в CS4 был бы очень благодарен!

     email: "akella.a@gmail.com"

  -  author: "Интересное за неделю: Drupal, Textpattern и новое о PNG | Вебмастеру посвящается..."
     id: "13524"
     url: "http://www.master-web.info/interesting-for-week-07/"
     date: "2008-11-08 11:48:56"
     humandate: "08 Nov, 2008"
     content: | 
       [...] Альфа-каналы в PNG-8 - проблемность альфа-каналов и полу прозрачности PNG [...]

     email: ""

  -  author: "Макисим Покровский"
     id: "13525"
     url: "http://pokrovskii.com"
     date: "2008-11-08 12:57:19"
     humandate: "08 Nov, 2008"
     content: | 
       Интересно, но в целом, заказчики не идут на компромиссы когда речь касается кроссбразерности. Что работает у людей, то должно работать и в IE. Один в один.

     email: "maxim@pokrovskii.com"

  -  author: "Максим Покровский"
     id: "13526"
     url: "http://pokrovskii.com"
     date: "2008-11-08 12:59:29"
     humandate: "08 Nov, 2008"
     content: | 
       В CS4 нет поддержки.

     email: "maxim@pokrovskii.com"

  -  author: "akella"
     id: "13527"
     url: "http://twitter.com/akella"
     date: "2008-11-08 13:00:15"
     humandate: "08 Nov, 2008"
     content: | 
       Согласен, тем не менее, я работал с одним американским порталом, где это было принято одной из стандартных практик разработки. Вплоть до того, что дизайнер отрисовывая макеты заботился о применимости этой техники. Но у них конечно всё немного по-другому, и процент пользователей ИЕ другой.

     email: "akella.a@gmail.com"

  -  author: "ganges"
     id: "13532"
     url: ""
     date: "2008-11-08 14:15:56"
     humandate: "08 Nov, 2008"
     content: | 
       Спасибо, Юра.

     email: "andrey.stefanenko@gmail.com"

  -  author: "Genn"
     id: "13535"
     url: "http://genn.org/"
     date: "2008-11-09 11:15:42"
     humandate: "09 Nov, 2008"
     content: | 
       Максим Покровский, и правильно делают.

     email: "soap@genn.org"

  -  author: "cr_"
     id: "13749"
     url: ""
     date: "2008-12-05 13:12:40"
     humandate: "05 Dec, 2008"
     content: | 
       как это в кс4 нет поддержки? низнаю как в более старых версиях, я использовал его в основном лишь с кс3, то там есть такая поддержка!
       главное выбрать палитру Selective и появляется соответствующая галка

     email: "slim.me@mail.ru"

layout: "layouts/post.njk"
excerpt: "Мало кто знает, но они действительно существуют."
---

Мало кто знает, но они действительно существуют.<!--more-->

Проблема полупрозрачных картинок медленно умирает вместе с IE5-6, но, тем не менее будет актуальна для популярных сайтов еще несколько лет. Вдобавок, дальше станет понятно, почему процентная прозрачность для PNG-8 будет важна и без ИЕ.
<h3>Чем они вообще отличаются, эти PNG?</h3>
<dl>
<dt><strong>PNG-24</strong>:</dt> <dd>доступны все возможные цвета, доступна любая степень их прозрачности.</dd>
<dt><strong>PNG-8 обычный</strong>:</dt> <dd> доступны 256 цветов, прозрачность только на уровне 0 или 100%. Прозрачность в 50%, например, невозможна.
<dt><strong>PNG-8 с альфа-каналами</strong>:</dt>  <dd><em> доступны 256 цветов</em>, каждый из этих 256 цветов имеет свой показатель прозрачности от 0 до 100%. Возможна прозрачность в 42%.</dd>
</dl>
Казалось бы, &laquo;Ну и что? Все равно альфа-каналы в ИЕ работать не будут, толку?&raquo;. 

Однако, толк в том, что полупрозрачные пикселы в PNG-8 при просмотре в ИЕ будут показаны <em>полностью прозрачными</em>. Все остальные броузеры честно отобразят их полупрозрачными. Более того, не будет никакого уродливого серо-белого фона, который видно при просмотре PNG-24 картинок в Интернет Эксплорере.

То есть: все пикселы с прозрачностью от 0 до 99% будут отображены IE как <em>полностью</em> прозрачные.
<h3>Как сохранить PNG-8 с альфа-каналами?</h3>
Это странно и дико, но сделать это в Photoshop нельзя. (возможно в CS4...?)

Зато такую картинку можно сохранить в <a href="http://www.adobe.com/products/fireworks/">Fireworks</a>! Там это делается очень просто, при экспорте выбираем опции:
<p class="img"><img src="http://cssing.org.ua/pic/png8alpha/fw.png" width="245" height="370" alt="Опции для экспорта PNG в Fireworks" /><span>Трудно ошибиться, нужно выбрать формат PNG-8 и тип прозрачности &laquo;Alpha Transparency&raquo;. Видно также, что в палитре все цвета имеют прозрачность кроме одного (крайнего справа)</span></p>
Почему этого нет в Photoshop, загадка.

Также существуют <a href="http://pngnq.sourceforge.net/index.html">утилиты</a>, превращающие PNG-24 в PNG-8. Естественно, при этом качество страдает, но часто с этим можно жить.
<h3>Живой пример</h3>
Для примера, я сохранил одну и ту же картинку в трех форматах: PNG-24, PNG-8 обычный, и PNG-8 с альфа-каналами (из Fireworks). Все три поместил на узорчатый фон. Вот что вышло:

<p class="img"><img src="http://cssing.org.ua/pic/png8alpha/ff.jpg" width="319" height="371" alt="PNG картинки в Firefox" /><span>PNG картинки в Firefox</span></p>
Ничего особо интересного, кроме размеров картинок. Обратите внимание на вес PNG-24 и PNG-8 файлов, при почти идентичном отображении.

А теперь, в ИЕ:
<p class="img"><img src="http://cssing.org.ua/pic/png8alpha/ie.jpg" width="319" height="381" alt="PNG картинки в IE" /><span>PNG картинки в IE. Хорошо видно &laquo;серо-белое уродство&raquo;  упомянутое ранее</span></p>
Вуаля! То, что называется &laquo;graceful degradation&raquo;!
<a href="http://cssing.org.ua/examples/png8alpha/">Сами смотрите</a>, если не верите. ;)
За фон <a href="http://www.squidfingers.com/">благодарен</a>.
<h3>Польза</h3>
Вряд ли это знание поможет вам познакомиться с девушкой вашей мечты, или начать наконец делать зарядку по утрам. Но, некоторая польза все же есть.
Во-первых, это экономит трафик. Во-вторых, в большинстве случаев отлично деградирует в ИЕ. То есть, можно применять для всяких некритичных украшательских штучек. В IE будет отображен обычный PNG-8 (а ля GIF), а для всех остальных полупрозрачная красота. 

Разумеется, в некоторых случаях картинки будут казаться выщербленными в IE (резкие края), но никто и не говорит, что этот способ панацея.
<h3>Еще по теме</h3>
Эта техника, кстати, в некоторых случаях могла бы чуть-чуть упростить вот этот <a href="http://harisov.livejournal.com/58661.html">супер-универсальный трюк Виталия</a>. Другие заметки по теме:
<ul>
<li><a href="http://pngnq.sourceforge.net/index.html">Библиотека превращающая PNG-24 картинку в PNG-8 с альфа-каналами</a>. (<a href="http://ethan.tira-thompson.com/Mac%20OS%20X%20Ports.html">и версия c интерфейсом для Mac OS</a>)</li>
<li><a href="http://www.hackszine.com/blog/archive/2008/02/howto_crossbrowser_alpha_pngs.html">HOWTO: cross-browser alpha PNGs</a></li>
<li><a href="http://www.personal.psu.edu/drs18/blogs/davidstong/2007/09/png8_alpha_transparency_from_f.html">PNG8 alpha transparency from Fireworks</a></li>
<li><a href="http://www.sitepoint.com/blogs/2007/09/18/png8-the-clear-winner/">Статья на Sitepoint</a></li>
<li><a href="http://cssing.org.ua/examples/png8alpha/">Пример трёх типов PNG из заметки</a></li>
</ul>
Уверен, кто-то уже это использовал. Знание это совсем не новое, но малоизвестное почему-то. Потому, был бы рад если бы вы поделились опытом по теме.
