---
title: "CSS3 и блочная модель"
date: "2008-11-13"
categories: 
  - "thoughts"
  - "common"
---

Это так мило и забавно, и связано со старыми добрыми временами, когда нужно было верстать под IE5.

### Блочная модель (box model)

Думаю все, кто начинал верстать, столкнулись с тем, что модель вычисления ширины блока вместе со всякими padding и border не очень логична.

![box mdoel](http://cssing.org.ua/pic/boxmodel.png)синий блок 200px на 200px — контент. А padding и border, как видно, добавлены «извне».  
Такова модель w3c.  
Скриншот сделан в [Firebug](http://getfirebug.com/).  
Еще можно посмотреть [иллюстрацию](http://www.hicksdesign.co.uk/boxmodel/)

Да, есть много разных интересных пояснений и метафор, вроде бы делающих это логичным. Мол, задавая ширину, мы имеем ввиду содержимое и т. д. Но давайте смотреть правде в глаза, каждый кто начинал верстать считал это странным. Хотя бы потому что это _странно_.

Нет, ну правда: вы задаете колонке ширину 100 пикселей, и небольшую границу в 2 пикселя. И, вуаля, ширина уже 104 пикселя! Почему? Если я сказал, чтобы она была 100? =) _Для тех кто не в курсе:_ если это сделать в ИЕ5, то ширина блока останется 100 пикселей.

Если продавщица хочет больше пространства в коробке, она просто кладет туда меньше товара. А не увеличивает коробку волшебной палочкой. Так работает этот мир.

Вдобавок, все дизайнеры при отрисовке макетов думают майкрософтовской моделью, она интуитивна. А мы потом это верстаем.

Общепринятое пояснение: width — это _не ширина_ «блока», а ширина его «содержимого». Что само по себе красиво в своей алогичной противоречивости. Надеюсь я применил достаточно букв, чтобы все поняли, что мне модель w3c не нравится.

Не то чтобы я винил кого-то, просто так сложилась история стандарта, просто в w3c на тот момент было слишком много технарей. Может быть разработчики броузеров даже сэкономили на этом пару строк кода. И, наверное, кому-то тогда так было проще. Накипело, не упустил повод высказаться. ;) Но, забавно не это.

### В чем забава?

Забава в том, что на данный момент все современные броузеры (включая IE8 Beta) поддерживают свойство box-sizing. Его смысл: переключать блочную модель от W3C-шной к traditional (или от microsoft). Я сделал [специальный пример](http://cssing.org.ua/examples/css3boxmodel/), где хорошо видно, как лишь с помощью CSS в Safari, IE8, Firefox, Konqueror, Chrome и Opera можно сымитировать старую добрую блочную модель от IE5. Это правда круто, и могло бы сэкономить сотни тысяч дивов-оберток в наших верстках.

И... начинают появляться посты с обсуждением новой модели. Удивительно, неужели и правда можно задавать границу в 2 пикселя, а ширина блока по прежнему будет 100! Ура! CSS3 принесла нам еще одно полезное свойство! Блочная модель 10-летней давности возвращается!

### В конце

Я уже года три не вспоминал о блочной модели, я её просто запомнил. Но всплеск интереса к «новой» удобной блочной модели меня сильно позабавил. Это не критика W3C, все равно я буду играть по их правилам, скорее просто любопытные наблюдения за тем как всё возвращается на круги своя. =)

- [История модели в Википедии](http://en.wikipedia.org/wiki/Internet_Explorer_box_model_bug)
- [Пример box-sizing](http://cssing.org.ua/examples/css3boxmodel/)
- [Более подробное описание box-sizing](http://www.quirksmode.org/css/box.html)

P.S.: я называл модел «блочной», но это вольный перевод, её еще называют коробочной, боксовой, и чаще всего css box model.

И, вот просто интересно, кому-то кажется стандартная блочная модель логичной? Правда очень любопытны обоснования.
