---
title: "br{display:none}"
date: "2006-08-20"
humanDate: "20 Aug, 2006"
permalink: "2006/08/20/styling-br-display-none/"
tags: 
  - "xhtmlcss"
comments: 
  -  author: "akella"
     id: "4531"
     url: "http://cssing.org.ua"
     date: "2006-08-21 09:34:41"
     humandate: "21 Aug, 2006"
     content: | 
       2Flack: давно уж пора переверстать по правилам... версия от прошлой весны еще, но не дают пока.... :( Немного стыдно - но к сожалению ничего пока поделать нельзя. У меня какое то дежа вю - я по моему уже раза 3 кому то это говорил )
       И вообще! не придирайся! :) (шучу конечно, придираться <strong>надо</strong>)
       
       Спасибо Roman: нет границ человеческой изобретательности :)
       Хотя применение размера шрифта и кегля ) это уже как то не совсем семантично. :) Если задуматься - "к чему" мы задаем размер шрифта? :) Впрочем мой дисплей нан недалеко ушел...

     email: "akella.a@gmail.com"

  -  author: "Flack"
     id: "4512"
     url: "http://flack.ru"
     date: "2006-08-20 19:37:24"
     humandate: "20 Aug, 2006"
     content: | 
       Как-то очень плохо ведет себя ukr.net при увеличении размера шрифта =/

     email: "alex@flack.ru"

  -  author: "faxenoff"
     id: "4513"
     url: "http://www.artin.ru"
     date: "2006-08-20 19:43:14"
     humandate: "20 Aug, 2006"
     content: | 
       Действительно - удивительно. И почему раньше никто не пробовал? По-моему на его ещё и font-size \ line-height действовать должен.

     email: "faxenoff@gmail.com"

  -  author: "Roman Rahman"
     id: "4516"
     url: "http://cute-solutions.blogspot.com/"
     date: "2006-08-20 23:20:43"
     humandate: "20 Aug, 2006"
     content: | 
       Конструкция показалась смутно знакомой. Поискал локально в хламе и... хотите верьте, хотите нет - нашел. В кусках страниц старого дизайна PayPal (когда то пытался сделать свой эмулятор для отладки микроплатежей). Дизайн действительно очень старый - сейчас там все поменялось буквально, а мои файлы датируются октябрем 2002. Вот там то я и увидел душераздирающие правила:
       
        BR.h5 {font-size: 5px; line-height: 5px;}
        BR.h6 {font-size: 6px; line-height: 6px;}
        BR.h8 {font-size: 8px; line-height: 8px;}
        BR.h10 {font-size: 10px; line-height: 10px;}
        BR.h12 {font-size: 12px; line-height: 12px;}
        BR.text_spacer {font-size: 20px; line-height: 20px;}
        BR.field_spacer {font-size: 28px; line-height: 28px;}
        BR.field_spacer_opt {font-size: 35px; line-height: 35px;}
        BR.ir_spacer {font-size: 20px; line-height: 20px;}
       
       Что и говорить, если HTML начинался с

     email: "rahman.roman@gmail.com"

  -  author: "Roman Rahman"
     id: "4517"
     url: "http://cute-solutions.blogspot.com/"
     date: "2006-08-20 23:21:45"
     humandate: "20 Aug, 2006"
     content: | 
       Ага, поискав хорошенько нашел сдел и в online:
       https://listhost.uchicago.edu/pipermail/nsit-announce/2005-December/000525.html
       Вот оно, основательно забытое старое.

     email: "rahman.roman@gmail.com"

  -  author: "пятка"
     id: "4552"
     url: "http://mouldframe.com"
     date: "2006-08-23 14:37:46"
     humandate: "23 Aug, 2006"
     content: | 
       у br есть еще один нюанс, связанный с letter-spacing-ом парента. значение атрибута нужно обнулять.

     email: "dead-proxor@mouldframe.com"

  -  author: "warmrobot"
     id: "4581"
     url: "http://warmrobot.com"
     date: "2006-08-25 23:54:57"
     humandate: "25 Aug, 2006"
     content: | 
       Все очень логично и красиво. Уже тихонько <a href="http://textpattern.ru/forum/viewtopic.php?id=553" rel="nofollow">пропиарил</a> это решение. :-)

     email: "warmrobot@warmrobot.com"

  -  author: "Dan"
     id: "4583"
     url: "http://designformoney.blogspot.com"
     date: "2006-08-26 00:35:06"
     humandate: "26 Aug, 2006"
     content: | 
       Верно, так заметно аккуратнее и логичнее выглядит и по коду и по дизайну

     email: "designformoney@blogspot.com"

  -  author: "walle"
     id: "4825"
     url: "http://www.mp3ha.ru"
     date: "2006-09-05 19:23:42"
     humandate: "05 Sep, 2006"
     content: | 
       прикольно, зашибись!
       спасибо. =)

     email: "seeutoo@gmail.com"

  -  author: "Lexian"
     id: "5796"
     url: "http://neverland.pp.ru/"
     date: "2006-10-15 16:43:18"
     humandate: "15 Oct, 2006"
     content: | 
       все гениальное просто)
       Конечно можно вставить в строчку пробел с маленьким размером шрифта, что бы получился такой перенос но это извращение))

     email: "globolis@yandex.ru"

  -  author: "Александр Ксейр"
     id: "5991"
     url: "http://kseire.8azion.com"
     date: "2006-10-17 20:43:44"
     humandate: "17 Oct, 2006"
     content: | 
       Было бы странно, если бы не сработало.

     email: "kseire@8azion.com"

  -  author: "Junior"
     id: "6483"
     url: "http://www.unkom.ru/"
     date: "2006-11-03 22:23:47"
     humandate: "03 Nov, 2006"
     content: | 
       Хм.., сегодня утром сам применил подобный трюк, а только вечером прочел здесь. Забавное совпадение :)
       
       А вообще эта тема затрагивает другую, гораздо более проблематичную. Это компетентность авторов таких информеров. :( 
       Ну право слово, уже зла не хватает. Например, все (!) известные мне коды счетчиков статистики по-умолчанию предлагаются с некорректным кодом. Исключение, пожалуй, Google Analytics. Но там тегов вообще нет.

     email: "webware@bk.ru"

  -  author: "tapazukk"
     id: "6505"
     url: ""
     date: "2006-11-04 20:53:57"
     humandate: "04 Nov, 2006"
     content: | 
       Интересный способ,но обычно пользуюсь увеличением line-height ,как показал пример выще Roman Rahman.

     email: "tapazukk@gmail.com"

  -  author: "Komarova"
     id: "11141"
     url: "http://tkportfolio.tu1.ru"
     date: "2007-08-25 19:24:09"
     humandate: "25 Aug, 2007"
     content: | 
       Хм... никогда бы не додумалась :) Спасибо огромное!

     email: "komarovats@list.ru"

  -  author: "Женя"
     id: "11165"
     url: ""
     date: "2007-09-14 16:52:26"
     humandate: "14 Sep, 2007"
     content: | 
       Мдя... а про line-height ты когданибудь слышал? Решение не очевидное, а скорее глупое.

     email: "asd@sef.ru"

  -  author: "akella"
     id: "11166"
     url: "http://cssing.org.ua"
     date: "2007-09-15 02:06:45"
     humandate: "15 Sep, 2007"
     content: | 
       Я очень высоко ценю вашу мудрость и опыт Евгений. Но увеличение лайн-хейт очевидно увеличит расстояния между _строками_ текста а не _пунктами_ информера. Это разные вещи если пункт информера занимает более одной строки. Подумайте об этом.

     email: "akella.a@gmail.com"

  -  author: "Тормоз"
     id: "11278"
     url: "http://BrokenBrake.biz"
     date: "2007-11-07 16:28:19"
     humandate: "07 Nov, 2007"
     content: | 
       Эх, а у меня сейчас сложнее проблемка. Когда просто в тексте эти br используются вместо абзацев. Тогда и line-height использовать нельзя, и удалять их смысла нет, ведь тогда не к чему прицепиться. Пока даже не знаю, что делать.
       
       Возможно, придется кумекать над сложной системой преобразования br в абзацы. Но это очень непросто, они ведь могут несколько подряд быть, а где-то могут быть вполне уместными... В общем, серьезная заморочка :)

     email: "BrokenBrake@gmail.com"

  -  author: "Тормоз"
     id: "11282"
     url: "http://BrokenBrake.biz"
     date: "2007-11-07 18:31:27"
     humandate: "07 Nov, 2007"
     content: | 
       Прикольно. Оказывается, можно сделать его блочным и указать нижний отступ... но поймёт это лишь FireFox.

     email: "BrokenBrake@gmail.com"

  -  author: "Тормоз"
     id: "11285"
     url: "http://BrokenBrake.biz"
     date: "2007-11-07 23:26:14"
     humandate: "07 Nov, 2007"
     content: | 
       Зато FireFox не понимает before и after для br :) Пипец.

     email: "BrokenBrake@gmail.com"

  -  author: "akella"
     id: "11290"
     url: "http://cssing.org.ua"
     date: "2007-11-08 17:09:51"
     humandate: "08 Nov, 2007"
     content: | 
       Могу посоветовать разве что br+br+br{display:block} или что то в таком духе...

     email: "akella.a@gmail.com"

  -  author: "Del'ka"
     id: "12272"
     url: ""
     date: "2008-04-17 13:16:16"
     humandate: "17 Apr, 2008"
     content: | 
       прикольно!
       но более логичным мне кажется вариант присвоения для ссылок display: inline-block (для Mozill'ы - -moz-inline-box) - начинают работать padding и margin, а br сохраняет смысл. я так формы делаю.

     email: "delka@anime.kharkov.ua"

layout: "layouts/post.njk"
excerpt: "Для меня такое правило в CSS еще недавно было удивительным, хотя может просто не было задач для него подходящих. Тем не менее, совсем недавно оно помогло решить одну не совсем тривиальную задачу. Проблема и решение..."
---

Для меня такое правило в CSS еще недавно было удивительным, хотя может просто не было задач для него подходящих. Тем не менее, совсем недавно оно помогло решить одну не совсем тривиальную задачу. Проблема и решение...<!--more-->

<h3>Задача</h3>
Имеется у нас кусок HTML кода, примерно такого вида(так называемый информер ukr.net)
<ol class="code">
<li>&lt;a href=&quot;#&quot;&gt;Link&lt;/a&gt;&lt;br /&gt;</li>
<li>&lt;a href=&quot;#&quot;&gt;Link&lt;/a&gt;&lt;br /&gt;</li>
<li>&lt;a href=&quot;#&quot;&gt;Link&lt;/a&gt;&lt;br /&gt;</li>
</ol>
Такой вот список линков, за разметку конечно меня можно казнить(по хорошему здесь надо использовать UL), но к сожалению, не я занимался этим проектом. Выглядит примерно так:
<img src="/images/nobr.gif" alt="линки в куче, невозможно разорать где один кончается и начинается другой" title="линки в куче, невозможно разорать где один кончается и начинается другой" />
По условию задачи, HTML <strong>изменять нельзя</strong> - ясно что эти информеры стоят еще на десятках сайтов, и просто так сменить код не получится.(хотя можно было пытаться поизвращаться над серверной частью, но я сторонник вынесения таких вещей в CSS).
Итак собственно требование - нужно каким то образом научится менять расстояние по вертикали между линками. То бишь сделать отступы вверх и вниз от каждого линка.
<h3>Решение</h3>
Конечно просто сами просятся сюда такие свойства как:
<ol class="code">
<li>a{padding-top:...}</li>
<li>a{margin-top:...}</li>
</ol>
Однако, так же очевидно эти свойства не сработают, ибо как известно они задаются для блочных(block) элементов, и на Inline'овые, как наш <strong>a</strong>, просто не подействуют.

Тогда следуя простой логике, что бы наши padding и margin стали работать, дописываем:
<ol class="code">
<li>a{display:block}</li>
</ol>
В результате имеем вот такую картину(без margin и padding):
<img src="/images/2br2.gif" />
Между линками образовался двойной перенос строки. Однако все логично - каждый линк стал блочным элементом - это один перенос строки + оставшиеся BR - второй перенос строки. В результате имеем гигантское пространство между линками, намного больше чем нам нужно.
И вот тут меня и спасло это не совсем стандартное правило:
<ol class="code">
<li><strong>br{display:none}</strong></li>
</ol>
Пока я его писал, я вообще был неуверен что оно сработает, однако после того как оно сработало - переносы строк просто исчезли, теперь уже кажется что по другому просто и быть не могло. :)

Таким образом после написания этого правила, все переносы строк в HTML аннулируются, и задав небольшой margin я заимел то что и хотел:
<img src="/images/1br.gif" />
По сути действие br{display:none} очевидно, оно заставляет отображаться страницу так, как будто &lt;br /&gt; там никогда и не было.

Конечно было и второе решение этой задачи - вместо убирания br, можно было использовать отрицательный margin по вертикали для ссылок, но решение с br показалось мне намного красивее и, теперь уже, очевидней.
<h3>Конец</h3>
Несмотря на очевидность и простоту, я как то раньше не встречался с таким решением, наверное оно достаточно узкоприменимое. Однако по крайней мере знать что так можно, я думаю невредно. Все же лучше использовать семантический HTML нетрубующий таких нестандартных решений. Надеюсь все же кому то оно упростит жизнь когда-нибудь.
Живьем это сейчас висит  на поиске от <a href="http://search.ukr.net/search.php?search_mode=ordinal&search_query=%E4%F0%EE%F2%E8%EA%E8&PerformSearch=%CF%EE%E8%F1%EA&geo=0">ukr.net</a>

Всегда рад услышать чужой опыт по этому поводу, или просто мысли!
