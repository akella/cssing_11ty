---
title: "CSS1k"
date: "2011-07-05"
humanDate: "05 Jul, 2011"
permalink: "2011/07/05/css1k/"
tags: 
  - "fun"
  - "xhtmlcss"
comments: 
  -  author: "mega.genn.org &raquo; Bbubles — короче 1024 ббайтов"
     id: "18950"
     url: "http://mega.genn.org/2011/bbubles-%e2%80%94-%d0%ba%d0%be%d1%80%d0%be%d1%87%d0%b5-1024-%d0%b1%d0%b1%d0%b0%d0%b9%d1%82%d0%be%d0%b2/"
     date: "2011-07-06 09:21:47"
     humandate: "06 Jul, 2011"
     content: | 
       [...] в 130% ;) Какие-то секреты верстки, наверное, раскрывает в своем посте Юра. В общем, повеселились от души и получили хороший [...]

     email: ""

  -  author: "Sam"
     id: "18952"
     url: "http://rmcreative.ru/"
     date: "2011-07-06 13:37:14"
     humandate: "06 Jul, 2011"
     content: | 
       Красота!

     email: "sam@rmcreative.ru"

  -  author: "Alex"
     id: "18955"
     url: ""
     date: "2011-07-06 15:04:05"
     humandate: "06 Jul, 2011"
     content: | 
       Очень красиво получилось.
       А где можно почитать про эти "крутые" селекторы?

     email: "nilcolor@gmail.com"

  -  author: "akella"
     id: "18956"
     url: "http://cssing.org.ua"
     date: "2011-07-06 15:53:43"
     humandate: "06 Jul, 2011"
     content: | 
       http://www.w3.org/TR/css3-selectors/ например? :) Это самый полный и c описаниями вариант.

     email: "akella.a@gmail.com"

  -  author: "Михаил Якименко"
     id: "18958"
     url: "http://macgera.com.ua"
     date: "2011-07-06 17:38:51"
     humandate: "06 Jul, 2011"
     content: | 
       Хех. Круто!

     email: "macgera@gmail.com"

  -  author: "Тарас Лавка"
     id: "22108"
     url: "http://dedukciya.ru"
     date: "2011-09-24 17:48:06"
     humandate: "24 Sep, 2011"
     content: | 
       интересная заметка, спасибо

     email: "taras.lavka@bigmir.net"

  -  author: "Юра"
     id: "21626"
     url: "https://twitter.com/unique_twi_name"
     date: "2011-09-12 18:18:15"
     humandate: "12 Sep, 2011"
     content: | 
       Действительно потрясающая работа! Вы молодцы, ребята.
       
       Просмотрел все варианты оформлений других участников и могу искренне сказать, что ваш и ещё несколько других (уже не помню как называются) понравились больше остальных.
       (Очень напрягло отсутствие стилей для посещённых ссылок в большинстве работ :) Переключать дизайны, отыскивая посещённые было сложно. Хотя это замечание, конечно, может и не совсем уместно, учитывая условия проекта)
       
       Посмотрел ксс и понял, что я ничего не знаю про него, оказывается (даром, что вроде тоже вёрсткой занимаюсь).
       
       Вдохновлён, заинтересован, пошёл читать инфу по ссылке ;-)

     email: "lisivets@ya.ru"

  -  author: "Михаил Якименко"
     id: "19051"
     url: "http://macgera.com.ua"
     date: "2011-07-11 08:39:18"
     humandate: "11 Jul, 2011"
     content: | 
       почитав спецификацию.. Новые css селекторы не логичны.. имхо конечно.

     email: "macgera@gmail.com"

  -  author: "Софья"
     id: "19057"
     url: ""
     date: "2011-07-11 14:23:21"
     humandate: "11 Jul, 2011"
     content: | 
       Я с ума схожу от вашего умения так быстро решиться и сделать.
       Получилось действительно круто. Пока ваш мне больше всех понравился. Самый необычный и приятный. Ещё понравися Sourcy и Facetime.

     email: "tavsophi@gmail.com"

  -  author: "Павел"
     id: "19165"
     url: ""
     date: "2011-07-15 23:19:45"
     humandate: "15 Jul, 2011"
     content: | 
       нафига сжимать ксс, кешируется браузером...

     email: "avtomaster.007@gmail.com"

  -  author: "akella"
     id: "19166"
     url: "http://cssing.org.ua"
     date: "2011-07-16 00:24:33"
     humandate: "16 Jul, 2011"
     content: | 
       Зачем соревноваться в беге - если можно ездить на машине?

     email: "akella.a@gmail.com"

  -  author: "Mediaproduct"
     id: "20263"
     url: "http://www.mediaproduct.ru/"
     date: "2011-08-16 13:59:12"
     humandate: "16 Aug, 2011"
     content: | 
       Оптимизация ради оптимизации? Прикольно, чо :)

     email: "web64ru@yandex.ru"

  -  author: "Towave.Ru"
     id: "19755"
     url: "http://www.towave.ru/"
     date: "2011-08-02 14:53:19"
     humandate: "02 Aug, 2011"
     content: | 
       Очень интересные приемы. Возьмем на заметку. Спасибо.

     email: "towave.ru@gmail.com"

  -  author: "Александр"
     id: "40270"
     url: "http://localhost/start.php"
     date: "2012-02-12 13:36:18"
     humandate: "12 Feb, 2012"
     content: | 
       Без JS ваши дивы не увеличились бы, я прав?)

     email: "alexbutav@rambler.ru"

  -  author: "akella"
     id: "40272"
     url: "http://cssing.org.ua"
     date: "2012-02-12 13:49:54"
     humandate: "12 Feb, 2012"
     content: | 
       Нет, не прав :) Это css-анимации.

     email: "akella.a@gmail.com"

  -  author: "Александр"
     id: "40274"
     url: "http://localhost/start.php"
     date: "2012-02-12 13:58:01"
     humandate: "12 Feb, 2012"
     content: | 
       А зачем там подключен JQuery?)
       
       css-анимации это css3?

     email: "alexbutav@rambler.ru"

  -  author: "Александр"
     id: "40275"
     url: "http://localhost/start.php"
     date: "2012-02-12 14:09:28"
     humandate: "12 Feb, 2012"
     content: | 
       Можно не отвечать )

     email: "alexbutav@rambler.ru"

layout: "layouts/post.njk"
excerpt: "Мы с <a href=\"http://mega.genn.org/\">genn</a> не выдержали и сделали свою версию для <a href=\"http://css1k.com/#bbubles\">этой галереи</a>. 
"
---

Мы с <a href="http://mega.genn.org/">genn</a> не выдержали и сделали свою версию для <a href="http://css1k.com/#bbubles">этой галереи</a>. 
<!--more-->
Для тех кто не в теме, задача такова: у нас есть фиксированный html, мы к нему можем написать не более 1024 байт CSS кода, без скриптов и картинок, только CSS. Вот какие <a href="http://css1k.com/">красоты получаются у людей</a>.
Не удержались и мы. Однако наш красивый дизайн, примерно такой:
<p class="img"><a href="/pic/css1k/big.jpg"><img width="450" height="479" src="/pic/css1k/small.jpg"></a><span>в итоге занял почти 2 килобайта (О УЖАС!)</span></p>
Аж 1834 байта. После чего я сыграл в игру «challenge accepted» и забыл пообедать.

Рассказать о том что было дальше трудно, лучше приложу скриншот нашего с genn чата:
<p class="img con"><img src="/pic/css1k/skype.jpg" width="450" height="415"><span>Очень хорошо видно когда у меня пропал евпаторийский интернет :)</span></p>
Жертвуя красотой дизайна и используя селекторы вроде:
<ol class="code">
<li>header~a{<small>/*...*/</small>}</li>
<li>ul li,[role]>*>*:not(h2),ul li:hover a{<small>/*...*/</small>}</li>
<li>[role]>*+*+*:hover{<small>/*...*/</small>}</li>
</ol>
Мне и Гене таки удалось свести дело к 1000 байт.
Вобщем, это было весело :).

Самое удивительное и любопытное, что я изначально писал сжатый CSS-код, и после того как я начал оптимизировать его, только без жертв дизайна удалось удалить 30% файла. И это не считая пробелов, и не считая упрощения дизайна &#8212; исключительно сокращение кода. 

Впрочем, каждые сто байт оптимизации казалось что дальше уже некуда :)

В итоге за полдня родились <a href="http://cssing.org.ua/examples/css1k/index.html">Bbubles</a>.
Возможно таки удастся подчистить еще пару десятков байт чтобы добить красоту :) 

Буду рад советам, и вашим собственным вариантам дизайна. 
<ul>
<li><a href="https://github.com/akella/CSS1K/blob/master/styles/bbubles.css">Итоговый CSS на Github</a></li>
<li><a href="http://cssing.org.ua/examples/css1k/index.html">Живой пример Bbubles</a> (лучше всего в Сафари и Хроме, ну как всегда)</li>
<li><a href="http://mega.genn.org/2011/bbubles/">Отчет в блоге Genn.org</a></li>
</ul>

В завершение, несколько советов тем кто захочет поучаствовать в галерее.

<h3>Не бойтесь если у вас получилось 2kb</h3>
Мы все сильно недооцениваем то насколько наш код можно упростить. ;) Лучше отнеситесь к этому как к сложной задаче и попробуйте решить. Обычно в таких случаях абсолютно неважно добьетесь ли вы 1000 байт, но вы узнаете много нового и получите кайф =)
<h3>Где упрощать?</h3>
<ol>
<li> Группировать длинные свойства. Например, text-decoration или position:absolute стоит собрать в одном месте: <code>div,p,section{position:absolute}</code></li>
<li>Использовать крутые селекторы вместо обычных. Например вместо <code>article section p,article section ol</code> можно написать: <code>[role]>*>*:not(h2)</code>
А вместо <code>section:last-child</code>
<code>[role]>*+*+*</code>
</li>
<li>Вместо px использовать em. Запись 5em короче чем 50px</li>
<li>Короткую запись для цвета. Очевидно <code>#f3f5f8</code> длиннее чем <code>red</code> или <code>#fff</code></li>
<li>А еще, часть свойств из CSS можно просто удалить и ничего не изменится, мы же делаем под современные браузеры.</li>
</ol>
Оптимиизировать свой CSS очень интересно :)
