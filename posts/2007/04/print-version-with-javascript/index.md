---
title: "Печатная версия с Javascript"
date: "2007-04-07"
humanDate: "07 Apr, 2007"
permalink: "2007/04/07/print-version-with-javascript/"
tags: 
  - "xhtmlcss"
comments: 
  -  author: "memyself"
     id: "10879"
     url: ""
     date: "2007-04-07 16:50:33"
     humandate: "07 Apr, 2007"
     content: | 
       Всё гениальное просто. Спасибо Вам большое!

     email: "val.budkin@gmail.com"

  -  author: "Vladson"
     id: "10880"
     url: "http://vladson.com/"
     date: "2007-04-07 18:06:00"
     humandate: "07 Apr, 2007"
     content: | 
       Только вот благодаря параметру "disabled" жертвуется "валидность"

     email: "dkflbk@nm.ru"

  -  author: "Smash"
     id: "10881"
     url: "http://1smash1.livejournal.com"
     date: "2007-04-07 18:13:54"
     humandate: "07 Apr, 2007"
     content: | 
       Можно добавить href="#print" и href="#view", и в зависимости от него включать или отключать нужные стили. Это добавит возможность сослатся на печатную версию.

     email: "smashlong@gmail.com"

  -  author: "Smash"
     id: "10882"
     url: "http://1smash1.livejournal.com"
     date: "2007-04-07 18:15:47"
     humandate: "07 Apr, 2007"
     content: | 
       Vladson, оберните его в СС или попробуйте disabled="disabled"

     email: "smashlong@gmail.com"

  -  author: "Vladson"
     id: "10883"
     url: "http://vladson.com/"
     date: "2007-04-07 18:26:55"
     humandate: "07 Apr, 2007"
     content: | 
       Я делал это по другому, просто добавил к первому link id="main_css" и сделал ссылки
       
       onclick="document.getElementById('main_css').href = 'css/base.css'"
       onclick="document.getElementById('main_css').href = 'css/print.css'"
       
       Кроссбраузерность вполне нормальная (проверял в IE-5-6-7, мозила-1-2, опера-7-8-9, Konqueror) и валидность не храмает...
       
       Советую глянь на http://www.exclipy.com/ там тоже самое но ещё более грамотно...

     email: "dkflbk@nm.ru"

  -  author: "Mourner"
     id: "10884"
     url: "http://agafonkin.com"
     date: "2007-04-07 21:07:46"
     humandate: "07 Apr, 2007"
     content: | 
       Хорошо написанная, полезная статья, молодец! Великолепно!
       
       Только один момент, который можно улучшить - я (и не только) твёрдо убеждён, что в HTML-маркапе не должно быть вещей, которые не имеют смысла без работающего JS. Поэтому ссылки на печатную версию/обратно нужно генерить и вставлять в DOM динамически вместо того, чтобы прописывать в маркапе (тем более через атрибут onclick).

     email: "agafonkin@gmail.com"

  -  author: "pepelsbey"
     id: "10885"
     url: "http://pepelsbey.net"
     date: "2007-04-07 23:47:23"
     humandate: "07 Apr, 2007"
     content: | 
       Отличная статья. Даже не верится, что по-русски ;)

     email: "pepelsbey@gmail.com"

  -  author: "Amigo"
     id: "10886"
     url: "http://www.tagirov.org/blog/"
     date: "2007-04-08 00:24:12"
     humandate: "08 Apr, 2007"
     content: | 
       спасибо, интересный ход! 
       главное, в лисе работает :)

     email: "artem@tagirov.org"

  -  author: "tommy"
     id: "10887"
     url: "http://2ua.mobi"
     date: "2007-04-08 09:17:59"
     humandate: "08 Apr, 2007"
     content: | 
       Пример супер, да и сайт тоже. Очень много нового узнал, спасибо
       
       Amigo, как по мне так в лисе практически все работает, что нельзя сказать об ие :)

     email: "tommy-gung@mail.ru"

  -  author: "akella"
     id: "10888"
     url: "http://cssing.org.ua"
     date: "2007-04-08 14:22:04"
     humandate: "08 Apr, 2007"
     content: | 
       Спасибо всем!
       @Vladson, да ты прав - можно и таким способом, спасибо. Но он, ИМХО, какой то чуть менее логичный, то есть мы подменяем а не переключаем. А насчет того линка так там используется как раз Style Switcher который как по мне слишком избыточен для таких задач, ну зачем мне запоминать в куку что он переключился на печатную версию? ) А валидность да.. есть такое, но когда я вставляю этот параметр только ради ИЕ - моя совесть чиста(почти) =), да и CC можно...
       
       @Smash: спасибо да идею! Действительно иметь ссылку было бы еще удобней! 
       
       Главное нам теперь не написать мегафреймворк для работы с печатной версией :) Я уже вижу... Printr.js

     email: "akella.a@gmail.com"

  -  author: "Vladson"
     id: "10889"
     url: "http://vladson.com/"
     date: "2007-04-08 14:46:49"
     humandate: "08 Apr, 2007"
     content: | 
       &gt;&gt;&gt; какой то чуть менее логичный
       Я так не считаю, мне кажется что очень даже ничего...
       Единственное что выполнен он "топорно" (просто чтоб передать смысл) но это решается...

     email: "dkflbk@nm.ru"

  -  author: "akella"
     id: "10890"
     url: "http://cssing.org.ua"
     date: "2007-04-08 16:01:44"
     humandate: "08 Apr, 2007"
     content: | 
       да, смысл понятен, наверно ППК защищался от каких старожилов-броузеров, где то наверно этот параметр протектед.
       А не нравится мне в этом методе то что в джаваскрипте учавствует важный контент - адрес ЦСС файла, не хотел бы я вмешивать..Никаких конкретных проблем - просто интуитивно так. В любом другом случае - бесспорно проще. Спасибо большое!

     email: "akella.a@gmail.com"

  -  author: "Zigzag"
     id: "10891"
     url: "http://blog.lovata.com"
     date: "2007-04-08 20:06:55"
     humandate: "08 Apr, 2007"
     content: | 
       Юра, пасиб, действительно... гениально просто!

     email: "zigzag85@mail.ru"

  -  author: "wmas"
     id: "10892"
     url: "http://kurilka.co.ua"
     date: "2007-04-10 00:43:10"
     humandate: "10 Apr, 2007"
     content: | 
       Вариантов всегда было много и в этом вся соль на раны или наоборот :) В любом случае – народу нравится, хотя вроде как можно просто display: none или скажем innerHTML нужного кусочка в всплывающем окне выводить :) Тоже варианты в копилку.

     email: "lunux@mail.ru"

  -  author: "Vladson"
     id: "10893"
     url: "http://vladson.com/"
     date: "2007-04-10 02:07:59"
     humandate: "10 Apr, 2007"
     content: | 
       &gt;&gt;&gt; споосба еще нуждаются в тестировании
       Не вижу смысла особо тестировать, дело в том что вроде все перечисленные способы достаточно кросс-браузерные...
       
       Мой способ я проверял на винде IE, Firefox Opera, а также на Линуксе под Konqueror, Firefox и Epiphany (Epiphany тоже на Gecko)

     email: "dkflbk@nm.ru"

  -  author: "akella"
     id: "10894"
     url: "http://cssing.org.ua"
     date: "2007-04-10 10:48:49"
     humandate: "10 Apr, 2007"
     content: | 
       @ Vladson: Под дотестированием я имел ввиду МАК. И пусть доля его мала, но людям которые его имеют как правило лучше все видеть в хорошем свете :)
       Ну и + в ИЕ всякое бывает.... Без disabled например все работает в ИЕ, но с маленьким глючком - принт стили включаются не с первого раза.

     email: "akella.a@gmail.com"

  -  author: "Sam"
     id: "10895"
     url: "http://rmc.net.ru/"
     date: "2007-04-10 11:41:50"
     humandate: "10 Apr, 2007"
     content: | 
       Довольно интересный способ.
       И расписано хорошо.
       
       Спасибо за статью.

     email: "sam@rmc.net.ru"

  -  author: "ilya shvets"
     id: "10896"
     url: "http://witness.dp.ua"
     date: "2007-04-10 15:26:52"
     humandate: "10 Apr, 2007"
     content: | 
       Что-то долго вы его делаете.

     email: "shvets@gmail.com"

  -  author: "akella"
     id: "10897"
     url: "http://cssing.org.ua"
     date: "2007-04-11 13:11:21"
     humandate: "11 Apr, 2007"
     content: | 
       Кого? =)

     email: "akella.a@gmail.com"

  -  author: "Misha"
     id: "10902"
     url: "http://udaffa.net"
     date: "2007-04-14 10:35:37"
     humandate: "14 Apr, 2007"
     content: | 
       на css проще, как по мне. Но за статью все равно зачот, хороша, впрочем, как и все :)

     email: "new2mailto@mail.ru"

  -  author: "Алексей"
     id: "10905"
     url: ""
     date: "2007-04-15 20:38:19"
     humandate: "15 Apr, 2007"
     content: | 
       Изобрели велосипед? 
       
       Print to Preview -&gt; http://alistapart.com/articles/printtopreview

     email: "Paul_Landers@rambler.ru"

  -  author: "akella"
     id: "10906"
     url: "http://cssing.org.ua"
     date: "2007-04-15 23:27:21"
     humandate: "15 Apr, 2007"
     content: | 
       Вот спасибо за ссылку - а я пропустил, буду теперь и этот вариант знать ). Но у меня как то попроще кажется..

     email: "akella.a@gmail.com"

  -  author: "Crash Override"
     id: "10909"
     url: "http://www.antiplaneta.info"
     date: "2007-04-19 09:57:45"
     humandate: "19 Apr, 2007"
     content: | 
       Интересно. Надо прикрутить к блогу будет :)

     email: "2.crash.override@gmail.com"

  -  author: "JS"
     id: "10913"
     url: ""
     date: "2007-04-23 03:03:09"
     humandate: "23 Apr, 2007"
     content: | 
       Здравствуйте!
       К сожалению, не силен в скриптах. Подскажите, пожалуйста, как надо доработать этот скрипт, чтобы при включении версии для печати для нее выводилась спец. шапка (отличающаяся от основной страницы , например, логотип + текст), а после контента спец. footer, также отличающийся от основной стр. Насколько я понял, надо сделать проверку и, если версия для печати, то: document.write ('текст').?

     email: "cpu111@ya.ru"

  -  author: "akella"
     id: "10914"
     url: "http://cssing.org.ua"
     date: "2007-04-23 11:03:46"
     humandate: "23 Apr, 2007"
     content: | 
       В обычном CSS файле скрывайте ваш печатный футер, а в печатном CSS файле скрывайте ваш обычный футер. Добавьте их сразу оба в код.

     email: "akella.a@gmail.com"

  -  author: "JS"
     id: "10915"
     url: ""
     date: "2007-04-23 11:43:05"
     humandate: "23 Apr, 2007"
     content: | 
       Да, этот способ понятен, спасибо. А вот можно ли как раз без этого скрыть/показать? Именно поэтому и зарекся про document.write. Просто не хотелось бы в основном документе держать альтернативные header и footer. Или у этого способа есть какие-то сильные недостатки?

     email: "cpu111@ya.ru"

  -  author: "akella"
     id: "10916"
     url: "http://cssing.org.ua"
     date: "2007-04-23 17:24:48"
     humandate: "23 Apr, 2007"
     content: | 
       Серьезные ровно настолько насколько важен альтернативный футер и хедер. Вдруг ЖС отключен, да и как то некошерно хранить в ЖС части контента. 
       
       Мне кажется оптимально держать по два варианта в коде, или пытаться их как то скомпромиссить - что бы хватало одного который в печатной версии бы становился таким каким надо.

     email: "akella.a@gmail.com"

  -  author: "Николай"
     id: "10950"
     url: "http://www.freeboard.com.ua"
     date: "2007-05-13 02:43:19"
     humandate: "13 May, 2007"
     content: | 
       Потрясающая статья. Спасибо.

     email: "nikolai@gmail.com"

  -  author: "Евгений"
     id: "10956"
     url: "http://html-css.ru"
     date: "2007-05-21 18:36:46"
     humandate: "21 May, 2007"
     content: | 
       в общем-то статья на нужную тему, а про менталитет я говорить не буду, это же банально очень про менталитет-то говорить, мол это только в нашей стране никак догадаться не могут, что страницу можно отправить на печать нажав ctrl+p или аналогичными телодвижениями

     email: "eugeny.kem@gmail.com"

  -  author: "ogonkov"
     id: "10965"
     url: ""
     date: "2007-05-31 16:33:08"
     humandate: "31 May, 2007"
     content: | 
       а можно ещё сделать CSS, где ссылка "Вернуться к стандартному виду" будет скрываться
       
       использовать последний способ, где CSS подменяется с указанием адреса и при печати по идее эта ссылка не будет уже отображаться
       
       возможно где-то я накосячил в своих рассуждениях, это так, мысли вслух :)

     email: "ru.firez@gmail.com"

  -  author: "VLad"
     id: "10995"
     url: "http://tutotau.com"
     date: "2007-06-24 15:45:46"
     humandate: "24 Jun, 2007"
     content: | 
       Полаконичней, чем на Alistapart будет. Но ИМХО document.all в этом скрипте смысла использовать нет. Я склонен разделять мнение этого товарища - http://simonwillison.net/2003/Aug/11/documentAll/
       
       А что касается диалога Акеллы с Владсоном, то извечный камень преткновения - логика или простота очень редко имеет золотую середину.

     email: "novak@tutotau.com"

  -  author: "Vladson"
     id: "10996"
     url: "http://vladson.com/"
     date: "2007-06-25 19:58:00"
     humandate: "25 Jun, 2007"
     content: | 
       &gt;&gt;&gt; что касается диалога Акеллы с Владсоном
       Что касается диалога то просто мы столкнулись с разными ситуациями, в одних случаях хорошо одно, в других другое.
       
       Я рад что было употреблено слово "диалог" а не "спор" так как обе точки зрения правильны.
       
       (Далее ИМХО:)
       Вся прелесть вёрстки заключается в том, что изначально нет правильного и неправильного варианта. Есть множество разных способов, и что именно отличает "мастера" от "новичка" это то что он может выбрать тот или инной способ в зависимости от сложившейся ситуации....
       
       (Как говорится в знаменитой поговорке "Что русскому хорошо, то немцу смерть" или как в юмористическом ремиксе "Что немцу кирпич, то русскому мигающий зелёный")

     email: "dkflbk@nm.ru"

  -  author: "VLad"
     id: "11038"
     url: "http://tutotau.com"
     date: "2007-07-01 13:15:29"
     humandate: "01 Jul, 2007"
     content: | 
       &gt;&gt;&gt; изначально нет правильного и неправильного варианта
       Глубоко убежден, что есть. Не в приложении к теме обсуждения, а в принципе. И мастера от новичка как раз и отличает умение выбрать правильный вариант, более изящный вариант, более лаконичный вариант. 
       Конечно существуют равнозначные и равновозможные варианты, но там где "этого требует истина":) я привык к категоричности. В качестве простого примера: табличная верстка - это неправильно вне зависимости от ситуации, кто бы что ни говорил по этому поводу. Часто желание написать попроще основывается на неправильном понимании простоты.

     email: "novak@tutotau.com"

  -  author: "Flo"
     id: "11595"
     url: ""
     date: "2008-01-05 15:25:48"
     humandate: "05 Jan, 2008"
     content: | 
       такой прием не валиден xhtml strict
       можно как нибудь обойтись без disabled?

     email: "flogrimm@gmail.com"

  -  author: "akella"
     id: "11596"
     url: "http://cssing.org.ua"
     date: "2008-01-05 15:59:55"
     humandate: "05 Jan, 2008"
     content: | 
       Я не знаю зачем нужен именно стрикт, модно? Поставьте обычный html и используйте, либо пробуйте метод, ссылка на который дана в комментарии номер 21
       
       Валидатор это инструмент кодера, ну вызывает это ошибку... ну и? Вы же о ней знаете, и знаете что она безвредна для всех.

     email: "akella.a@gmail.com"

  -  author: "Андрей - Практик"
     id: "12040"
     url: ""
     date: "2008-03-30 02:00:49"
     humandate: "30 Mar, 2008"
     content: | 
       В 99% случаев страница с "версией для печати" должна иметь другой
       html код, поэтому даже и мыслей нет заморачиваться с JS.
       Если и использовать JS, то придётся перед этим сделать html версию и
       только потом настраивать вторую JS версию. Когда выдаётся сообщение
       "этот скрипт не работает в вашем броузере" - это непрофессионально!!!
       Когда "функция отключается" при отсутствии JS - это тоже несерьёзно!

     email: "hemo@nm.ru"

  -  author: "akella"
     id: "12043"
     url: "http://cssing.org.ua"
     date: "2008-03-30 03:22:39"
     humandate: "30 Mar, 2008"
     content: | 
       На моих четырех сайтах, подходит тот же самый HTML. Так как я использую хорощий ХТМЛ, позволяющий сделать с ним все что мне нужно через ЦСС. Убедитесь в этом на этой самой странице. Вы видимо недостаточно хорошо знакомы с HTML+CSS.
       Таким образом, должно существовать еще 396 сайтов для которых это не так :) Очень сомневаюсь.
       
       Предусматривать доступность для пользователей без джаваскрипт безусловно нужно. Но и забывать о том что таких пользователей менее 1 процента, тоже не стоит. Я делал доклад в москве на Сlientside целиком посвященный доступности, видимо вам будет интересно http://cssing.org.ua/2007/11/11/client-side-2007/
       
       Сообщение о том что это не работает в вашем броузере, не самый удачный вариант, но перефразировать его в ваших силах. Более того, в данном случае оно дано, только для того, чтобы вы могли проверить, как разработчик (а этот блог именно для разработчиков) каков результат нажатия.
       
       Потому извините :) Ваш комментарий какой-то поверхностный и несерьезный. Жаль что вы не вдумались в суть поста.

     email: "akella.a@gmail.com"

  -  author: "sonika"
     id: "13358"
     url: "http://www.sonika.ru/blog/"
     date: "2008-10-05 16:56:16"
     humandate: "05 Oct, 2008"
     content: | 
       Спасибо за способ, пристроила себе в блог!
       Юрий, а не мог бы ты вывести форму поиска в блоге? Искать что-либо очень неудобно...

     email: "sonika@sonika.ru"

  -  author: "akella"
     id: "13359"
     url: "http://cssing.org.ua"
     date: "2008-10-05 17:35:52"
     humandate: "05 Oct, 2008"
     content: | 
       Круто! =)
       Я её спрятал в "<a href="http://cssing.org.ua/archive/" rel="nofollow">архивах</a>". Мало кто искал по статистике =(
       
       P.S.: наверное случайно получилось - сейчас у тебя ссылка на печатную версию выводится в листингах статей, а не только на single_post.

     email: "akella.a@gmail.com"

  -  author: "Морозов"
     id: "13466"
     url: ""
     date: "2008-10-27 15:28:18"
     humandate: "27 Oct, 2008"
     content: | 
       Попробовал сделать по-вашему, но при обилии на странице флешевых банеров и разного рода динамики на javascript в момент переключения таблиц стилей IE просто вылетает (демонстрацию, к сожалению, привести не могу). При этом вариант с подменой href у основной таблицы стилей работает.

     email: "morozovby@gmail.com"

  -  author: "Документ для печати. Версия с Javascript &laquo; uspeshnyy.ru &#8211; Личный блог"
     id: "18930"
     url: "http://uspeshnyy.ru/archives/68"
     date: "2010-11-02 11:09:51"
     humandate: "02 Nov, 2010"
     content: | 
       [...] пойти дальше(спасибо Smash за идею), и позволить пользователям давать ссылку на [...]

     email: ""

  -  author: "nadietax"
     id: "71522"
     url: ""
     date: "2012-08-03 14:12:18"
     humandate: "03 Aug, 2012"
     content: | 
       Сайт nadietax.com - женский сайт о диетах, здоровом образе жизни, красоте, женском здоровье

     email: "nadietax.com@mail.ru"

  -  author: "Charlesjak"
     id: "508659"
     url: "http://pesok.dostavka.biz.ua/pesokovr.html"
     date: "2021-01-30 07:02:11"
     humandate: "30 Jan, 2021"
     content: | 
       С Целью независимого производства, сперва необходимо получить трафареты. Во реализации имеется модификации с целью разового применения в самоклеящейся пластинке. Предполагаются наиболее дорогостоящие виды с целью неоднократного использования также извлечения некоторых схожих элементов. Во случае определенного, выдуманного рисунка образец возможно совершить без помощи других. Увлекательный <a href="http://pesok.dostavka.biz.ua/pesokovr.html" rel="nofollow ugc">песок овражный в киеве</a> рисунок выносится в крепкую эластичную бумагу, в каком месте вырезается необходимый изображение. Пред основанием деятельность плоскость следует помыть мыльнооперными орудиями, обезводить также потереть обезжиривающим веществом, спиртом либо ацетоном. Окраски правильнее приобретать влагоупорные акриловые. Комфортнее использовать баллончиками, однако возможно украшать также гроздью. Вольные зоны плоскости, для того чтобы исключить попадания в их брызг в период деятельность, закрываются окрасочным скотчем. Шаблон фотографируется со стандартов одновременно ведь уже после просыхания красителя. Системы необходимо посмотреть согласно правилам в упаковке. В Случае Если прибирать образец со влажного покрова, возможно помазать картинка.

     email: "eoifkdp@gmail.com"

layout: "layouts/post.njk"
excerpt: "Я всегда знал два подхода к печатным версиям:  старого типа - ставим ссылку \"печатная версия\", пользователь переходит на новую страницу и видит печатную версию этой же страницы, и новый: добавляем css media=\"print\", и только знающие люди могут нажать Print Preview или догадаться распечатать эту страницу. Вот и пришла маленькая идея комбинации лучших сторон этих двух подходов. 
"
---

Я всегда знал два подхода к печатным версиям:  старого типа - ставим ссылку "печатная версия", пользователь переходит на новую страницу и видит печатную версию этой же страницы, и новый: добавляем css media="print", и только знающие люди могут нажать Print Preview или догадаться распечатать эту страницу. Вот и пришла маленькая идея комбинации лучших сторон этих двух подходов. 
<!--more-->
<h3>Что я хочу</h3>
А хочу я, что бы по клику на ссылку "печатная версия" какой то волшебник заменял media="print" на media="screen", и страница преображалась без перезагрузки в печатный вид. Таким образом и пользователь экономит время(хоть и мизерное), и видит сам печатный вид без лазания по меню броузера. Вроде как - все довольны.
<h3>HTML</h3>
Для примера понадобится страница с печатной версией, это будет <a href="http://cssing.org.ua/examples/printwithjs/">что то вроде этой</a>. В head файла добавим print.css два раза для разных медиа:
<ol class="code">
<li>&lt;!--Для собственно принтеров --&gt;</li>
<li>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;print&quot; href=&quot;css/print.css&quot;   /&gt;</li>
<li>&lt;!--Для нашего превью с джаваскриптом --&gt;</li>
<li>&lt;link rel=&quot;alternate stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen,projection&quot; href=&quot;css/print.css&quot; title=&quot;printview&quot; disabled  /&gt;</li>
</ol>
Атрибут disabled указан для того что бы в ИЕ эти стили корректно включались и отключались.(<a href="http://www.quirksmode.org/js/cssdisable.html">см. статью</a>)

Теперь страничка полноценная - у нее есть печатная версия, и она нормально отображается в броузерах. Дело за магией.
<h3>Javascript</h3> 
Нам необходимо как то переключаться между стилями, приходят на ум статьи о <a href="http://alistapart.com/stories/alternate/">Style Switcher</a> и тому подобных, однако его я считаю черезчур избыточным, он скорее предназначен для переключения разных вариантов дизайна или шрифтов. А запоминания в куку в данном случае явно излишни.

Потому я обратился к другой статье(спасибо <a href="http://sudoku.org.ua/rus/blog/">CB</a> за наводку), где описывается метод буквального отключения <a href="http://www.quirksmode.org/js/cssdisable.html">CSS Disabling</a>
По сути взял с минимальными изменениями джаваскрипт оттуда, вот что я использовал для решения задачи:
<pre class="code">function setPrintCSS(isPrint) {
// Определяем поддержку нужного нам элемента в броузерах
  if (document.getElementsByTagName)
      x = document.getElementsByTagName('link');
  else if (document.all)
      x = document.all.tags('link');
  else
  {
      alert('Простите, этот скрипт не работает в вашем броузере');
      return;
  }
// Пробегая по всем элементам LINK в HTML  - включаем и отключаем нужные нам стили
// идентифицируя их по атрибуту title
// параметр isPrint - отвечает просто за вариант стилей для печти или монитора
  for (var i=0;i&lt;x.length;i++) {
      if(x[i].title == 'printview'){x[i].disabled = !isPrint;}
      if(x[i].title == 'screenview'){x[i].disabled = isPrint;}
  }
}</pre>
<span style="color:#999">(немного более логичный нейминг по сравнению с первым вариантом, спасибо <a href="http://sudoku.org.ua/rus/blog/">CB</a>)</span>
В результате в HTML можно добавить две ссылки вида:
<ol class="code">
<li>&lt;a href=&quot;#&quot; onclick=&quot;setPrintCSS(false)&quot;&gt;Вернуться к стандартному виду&lt;/a&gt;</li>
<li>&lt;a href=&quot;#print&quot; onclick=&quot;setPrintCSS(true)&quot;&gt;Печатная версия&lt;/a&gt;</li>
</ol>
По клику на которые всё и будет происходить.
<a href="http://cssing.org.ua/examples/printwithjs/">Вот простой пример</a> этого приема. 

Можно пойти дальше(спасибо <a href="#comment-10881">Smash</a> за идею), и позволить пользователям давать ссылку на печатную версию сайта. Для этого достаточно одной строки скрипта после задания нашей функции:
<pre>if(document.location.hash=='#print') setPrintCSS(true);</pre>
<a href="http://cssing.org.ua/examples/printwithjs/index2.html#print">Смотреть пример с работающим #print.</a>
<h3>Ссылки</h3>
<ul>
<li><strong>Update:</strong> Пример с переработанным кодом, теперь работает #print, <a href="http://cssing.org.ua/examples/printwithjs/index2.html">сам пример</a> и <a href="http://cssing.org.ua/examples/printwithjs/index2.html#print">печатная версия</a>(в адрес добавлено #print)</li>
<li><a href="http://cssing.org.ua/examples/printwithjs/">Мой пример</a></li>
<li><a href="http://cssing.org.ua/examples/printwithjs/index1.html">Пример из апдейта(см. ниже)</a></li>
<li><a href="http://www.quirksmode.org/js/cssdisable.html">Статья PPK</a></li>
<li><a href="http://akella.org.ua/pro/prostobank/publication.html">Второй пример</a></li>
<li><a href="http://alistapart.com/articles/printtopreview">Print to Preview</a> -  статья с похожей  идеей на алистапарте</li>
</ul>
Для красоты в media=screen  я скрываю ссылку переключения в обычный вид, а в печатной  версии соответствующую ссылку на печатную версию.
<h3>В конце</h3>
Вот такой маленький приемчик - иногда может быть довольно приятным, да и наконец позволяет более явно использовать нам наши CSS для принтеров. А то бывает пишешь-пишешь эти стили.. А они скопируют в ворд и распечатают по привычке =) Кстати многие любят читать печатные версии на сайтах, что бы ничего не мешало - а таким образом мы ускоряем им это переключение. Вдобавок, можно давать одинаковые тайтлы нескольким ЦСС файлам и они будут отключены все разом.
Буду рад услышать Ваши мысли, критику, приемы по этому поводу!

<strong>Обновлено:</strong> Спасибо <a href="http://vladson.com/">Vladson</a> за второй способ быстрой замены стилей, чуть менее абстрактный, но иногда возможно оптимальный. Задаем параметр id для элемента link(например main-css), и тогда
<ol class="code">
<li>&lt;a href=&quot;#&quot; onclick=&quot;document.getElementById('main-css').href = 'css/base.css'&quot;&gt;Вернуться к стандартному виду&lt;/a&gt;</li>
<li>&lt;a href=&quot;#&quot; onclick=&quot;document.getElementById('main-css').href = 'css/print.css'&quot;&gt;Печатная версия&lt;/a&gt;</li>
</ol>

Оба споосба еще нуждаются в тестировании - но под виндой работают под всеми броузерами. А последний и под Konqueror.
