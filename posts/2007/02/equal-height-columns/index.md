---
title: "Колонки \"одинаковой\" высоты с разделителем"
date: "2007-02-24"
humanDate: "24 Feb, 2007"
permalink: "2007/02/24/equal-height-columns/"
tags: 
  - "xhtmlcss"
  - "thoughts"
comments: 
  -  author: "set440"
     id: "8926"
     url: ""
     date: "2007-03-01 01:10:36"
     humandate: "01 Mar, 2007"
     content: | 
       Ха! Люблю отрицательные маргины и перекрытия бордеров. Баловался даже как-то вкладки таким методом сделал.

     email: "tsvetx@yandex.ru"

  -  author: "Genn"
     id: "8909"
     url: "http://genn.org/"
     date: "2007-02-28 11:01:34"
     humandate: "28 Feb, 2007"
     content: | 
       Для количества колонок больше двух, когда требуется, чтобы все разделители были одинаковой высоты (как на главной странице этого проекта, где они сейчас разной высоты ;)), можно использовать border'ы c двух сторон и инкрементировать margin'ы, не так ли?

     email: "pandaportal@gmail.com"

  -  author: "akella"
     id: "8890"
     url: "http://cssing.org.ua"
     date: "2007-02-27 13:24:37"
     humandate: "27 Feb, 2007"
     content: | 
       @Gram: тогда проще использовать фоновый рисунок и вот этот прием http://alistapart.com/articles/fauxcolumns/ (или <a href="http://cssing.org.ua/2004/09/10/flex-faux/" rel="nofollow">на русском</a>)

     email: "akella.a@gmail.com"

  -  author: "Gram"
     id: "8889"
     url: "http://gram.nnov.ru"
     date: "2007-02-27 13:22:15"
     humandate: "27 Feb, 2007"
     content: | 
       А что делать, когда задача та же самая -- сэмулировать колонки одинаковой высоты, но в случае, когда мы имеем дело не с разделителем, а с разным фоном у колонок

     email: "gram@bg.nnov.ru"

  -  author: "coder"
     id: "8784"
     url: ""
     date: "2007-02-25 12:27:15"
     humandate: "25 Feb, 2007"
     content: | 
       Просто гениально! Автору респект.

     email: "coder-news@yandex.ru"

  -  author: "shvets"
     id: "8785"
     url: "http://witness.dp.ua"
     date: "2007-02-25 12:38:50"
     humandate: "25 Feb, 2007"
     content: | 
       "Новостной проект" (<em>прим. акелла)</em> кодишь?

     email: "shvets@gmail.com"

  -  author: "akella"
     id: "8787"
     url: "http://cssing.org.ua"
     date: "2007-02-25 12:50:08"
     humandate: "25 Feb, 2007"
     content: | 
       @all ну вы прямо засмущали, наверняка ведь много кто уже использует ;), интересно было бы послушать трансформации этой идеи.
       
       @shvets: да, сорри, конспирация. =)

     email: "akella.a@gmail.com"

  -  author: "Neutrino"
     id: "8782"
     url: "http://webmakerslounge.com"
     date: "2007-02-25 11:48:38"
     humandate: "25 Feb, 2007"
     content: | 
       ха, молодец :) 
       все гениальное просто.

     email: "neutrino@webmakerslounge.com"

  -  author: "small-heap-of-sites"
     id: "8777"
     url: ""
     date: "2007-02-25 09:38:14"
     humandate: "25 Feb, 2007"
     content: | 
       круто!

     email: "egor.savintsev@gmail.com"

  -  author: "Zigzag"
     id: "8791"
     url: "http://lovata.com"
     date: "2007-02-25 14:05:22"
     humandate: "25 Feb, 2007"
     content: | 
       пасиб, примем к сведению. а почему вот здесь http://cssing.org.ua/examples/2equalcols/reallife/english.psd.html
       фотка нашей Октябрьской площади в день выборов в прошлом году? =)

     email: "zigzag85@mail.ru"

  -  author: "Mkdir"
     id: "8792"
     url: "http://mkdir.livejournal.com"
     date: "2007-02-25 14:08:18"
     humandate: "25 Feb, 2007"
     content: | 
       О, крутое решение! В мемориз.
       Юра, респект =)

     email: "ivan.pirog@gmail.com"

  -  author: "GDie"
     id: "8793"
     url: "http://www.inkan.ru"
     date: "2007-02-25 14:30:21"
     humandate: "25 Feb, 2007"
     content: | 
       Супер! Пасиба.

     email: "385383@gmail.com"

  -  author: "pepelsbey"
     id: "8801"
     url: "http://pepelsbey.net"
     date: "2007-02-25 16:37:00"
     humandate: "25 Feb, 2007"
     content: | 
       Шамааан :) Не всегда хватает ума записать такие мини-открытия и иногда получается, что открываешь такие вещи по два-три раза )

     email: "pepelsbey@gmail.com"

  -  author: "akella"
     id: "8798"
     url: "http://cssing.org.ua"
     date: "2007-02-25 15:49:44"
     humandate: "25 Feb, 2007"
     content: | 
       @Zigzag: вот уж не знаю ) вопрос к дизайнеру, а я сразу и не приметил...
       
       @игорь: не совсем понял общую ситуацию, можно пример кода? если одну колонку флоатить влево а вторую вправо, то рассчеты становятся чуть труднее. Ведь нужно помнить что указание границы добавляется к ширине дива. И ширина будет 50%+1px.
       Не совсем понял зачем такой отрицательнй отступ?

     email: "akella.a@gmail.com"

  -  author: "Игорь"
     id: "8799"
     url: ""
     date: "2007-02-25 16:02:41"
     humandate: "25 Feb, 2007"
     content: | 
       я тебе в аську стукнул. или можешь в google talk если юзаешь. igor.morozov[sabaka]gmail.com

     email: "igor@morozoff.info"

  -  author: "Игорь"
     id: "8797"
     url: ""
     date: "2007-02-25 15:38:54"
     humandate: "25 Feb, 2007"
     content: | 
       Я когда-то делал так, когда фотошопа под рукой не было, а надо было быстро. Потом как-то забыл об этом.
       
       Просто проблема в том. Что если #c1 и #c2 задать width:50%; убрать паддинги
       
       #c1 {margin-right:-50%}
       #c2 {float:right}
       
       то обе границы не стыкуются :(

     email: "igor@morozoff.info"

  -  author: "Dimox"
     id: "8804"
     url: "http://suprabiz.com"
     date: "2007-02-25 17:44:11"
     humandate: "25 Feb, 2007"
     content: | 
       Благодарен за отличный способ!
       Однажды обязательно пригодится.

     email: "suprabiz@mail.ru"

  -  author: "bio"
     id: "8805"
     url: "http://bio.artcradle.com"
     date: "2007-02-25 18:46:17"
     humandate: "25 Feb, 2007"
     content: | 
       отличное решение!

     email: "bio@ukr.net"

  -  author: "Genn"
     id: "8894"
     url: "http://genn.org/"
     date: "2007-02-27 22:10:23"
     humandate: "27 Feb, 2007"
     content: | 
       Zigzag, когда рисовался первоначальный макет, эта тема была актуальной. С тех пор и кочевала картинка из одной итерации дизайна в другую ;)
       
       akella, замечательный прием.

     email: "pandaportal@genn.org"

  -  author: "nnn"
     id: "9493"
     url: ""
     date: "2007-03-15 09:17:45"
     humandate: "15 Mar, 2007"
     content: | 
       Добрый день вот уже второй день маюсь с похожей ситуацией, только одно маленькое но!, может кто подскажет
       надо сделать две колонки (одинаковой высоты это известно заранее) я их так и делал в принципе, еще до того как почитал статью, но вот с низу с отступом от этих 2х колонок в 5% надо разместить еще один блок, так вот если Firefox размещает его правильно, то iE ни в какую ... причем эксперимент показывает что ie берет 5% процентов от body а не от двух колонок, а мозилка от двух колонок как и задумывалось
       код следующий: (может кто подскажет решение)
       
       
       .d1{
       	background: url(Img/bg_1.jpg);
       	height: 93px;
       	width:35%;
       	float:left;
       	position: relative;
       	margin: 0px 0;
       	}
       
       .d3{
       	background:url(Img/bg_2.jpg);
       	height: 93px;
       	width: 65%;
       	float: left;
       	}
       #style4 {
       	font-size: 10px;
       	font-family: Verdana, Arial, Helvetica, sans-serif;
       	color: #717171;
       	text-align: justify;
       	margin-left:8%;
       	margin-right:40%;
       	padding-top:9%;
       	}
       
       
       текст
       
       текст
       
        Служба маркетинга компании выбирает рекламный клаттер, это обозначено Ли Россом как осознавая социальную ответственность бизнеса.

     email: "poidet@gmail.com"

  -  author: "nnn"
     id: "9495"
     url: ""
     date: "2007-03-15 09:19:26"
     humandate: "15 Mar, 2007"
     content: | 
       оо в предыдущем посте нет тэгов :-( 
       div class='d1' - текст
       div class='d2' - текст
       div id='style4' - нижний блок

     email: "poidet@gmail.com"

  -  author: "akella"
     id: "9514"
     url: "http://cssing.org.ua"
     date: "2007-03-15 14:50:18"
     humandate: "15 Mar, 2007"
     content: | 
       От чего вы берете 5% - от обертывающего дива? Так задайте для него
       #wrapper{padding-bottom:5%;} Вот и будет отступ вниз в 5 процентов.

     email: "akella.a@gmail.com"

  -  author: "nnn"
     id: "9548"
     url: ""
     date: "2007-03-16 10:59:59"
     humandate: "16 Mar, 2007"
     content: | 
       так в том то и дело что верхних два блока я не загоняю в общий див, дело в том что если загнать их в один див "шапка", и если float'aми после расставить один слева, другой справа, то они тогда выпадают из "шапки" :-(
       
       т.е. если я правильно понимаю флоат выталкивает дивы из потока

     email: "poidet@gmail.com"

  -  author: "akella"
     id: "9550"
     url: "http://cssing.org.ua"
     date: "2007-03-16 11:51:15"
     humandate: "16 Mar, 2007"
     content: | 
       напишите для обертывающего дива
       #wrapper{width:100%;overflow:hidden}

     email: "akella.a@gmail.com"

  -  author: "tobto"
     id: "9793"
     url: "http://tobto.org"
     date: "2007-03-20 11:02:41"
     humandate: "20 Mar, 2007"
     content: | 
       'И я уверен кто-то уже давно бессознательно пользовался приемом' - факт. Бордеры, как показывает практика, - очень сильный метод, который может избавить от болезненного фотошопинга 8)

     email: "seo@tobto.org"

  -  author: "viusha"
     id: "10878"
     url: ""
     date: "2007-04-05 19:24:46"
     humandate: "05 Apr, 2007"
     content: | 
       ОГРОМНОЕ человеческое СПАСИБО! А сколько миллионов нервных окончаний было загублено... Эх, знала бы раньше!

     email: "viusha@mail.ru"

  -  author: "kost"
     id: "10903"
     url: "http://reg.kost.ru/"
     date: "2007-04-14 13:29:42"
     humandate: "14 Apr, 2007"
     content: | 
       Отлично!
       
       Эх, вчера бы мне увидеть такой способ, когда я себя пытался час заставить открыть фотошоп и вырезать пиксел.

     email: "kost@kost.ru"

  -  author: "Oracle"
     id: "10912"
     url: "http://www.gruzonrecords.ru"
     date: "2007-04-22 10:06:45"
     humandate: "22 Apr, 2007"
     content: | 
       Хороший способ, сам недавно для одного сайта аналогичное сделал. Только не работает в Mozilla 1.7. Хрен бы с ней, только вот для того сайта, она все-таки еще актуальна, там посещаемость в день до 200 тыс. юзеров :-)
       
       Оставил пока так.

     email: "oracle@gruzonrecords.ru"

  -  author: "e1vin"
     id: "10951"
     url: ""
     date: "2007-05-15 16:05:26"
     humandate: "15 May, 2007"
     content: | 
       Недавно верстал макетик своего сайта и сам до такого додумался ;)
       Так что мысли сходятся иногда у совершенно разных людей.

     email: "e1vin@mail.ru"

  -  author: "Dimon"
     id: "12317"
     url: ""
     date: "2008-04-23 15:23:51"
     humandate: "23 Apr, 2008"
     content: | 
       в FF правая колонка сползает под левую
       
       
       
       DIV.command{
        	margin: 0 auto;
       	width:100%;
       	text-align:left;
       }
       
       DIV.leftColl, .rightColl{
       	float:left;width:50%;padding-left:15px;
       }
       DIV.leftColl{
       	border-right:1px solid #ccc;
       }
       DIV.leftColl{
       		border-right:1px solid #ccc;
       		}
       DIV.rightColl{
       		border-left:1px solid #ccc;
       		margin-left:-1px;
       		}
       DIV.command DIV a{
       	display:block; margin:0 0 0.3em 0;}
       	
       	
       
       
        	<a href="" rel="nofollow">Австрия</a>
       	<a href="" rel="nofollow">Азербайджан</a>
       	<a href="" rel="nofollow">Албания</a>
       	<a href="" rel="nofollow">Англия</a>
       	<a href="" rel="nofollow">Андорра</a>
       	<a href="" rel="nofollow">Армения</a>
       	<a href="" rel="nofollow">Беларусь</a>
       	<a href="" rel="nofollow">Бельгия</a>
       	<a href="" rel="nofollow">Болгария</a>
       	<a href="" rel="nofollow">Босния-Герцеговина</a>
       	<a href="" rel="nofollow">Венгрия</a>		
       	<a href="" rel="nofollow">Германия</a>
       	<a href="" rel="nofollow">Греция</a>	 
       	<a href="" rel="nofollow">Грузия</a>
       	<a href="" rel="nofollow">Дания </a>		 
       	<a href="" rel="nofollow">Израиль</a>
       	<a href="" rel="nofollow">Ирландия</a>	
       	<a href="" rel="nofollow">Исландия</a>
       	<a href="" rel="nofollow">Испания </a>		
       	<a href="" rel="nofollow">Италия</a>
       	<a href="" rel="nofollow">Казахстан</a>	
       	<a href="" rel="nofollow">Кипр</a>
       	<a href="" rel="nofollow">Латвия</a>
       	<a href="" rel="nofollow">Литва</a>
       	<a href="" rel="nofollow">Лихтенштейн </a> 
       	<a href="" rel="nofollow">Люксембург</a>	
       	
       
       	<a href="" rel="nofollow">Македония </a>		
       	<a href="" rel="nofollow">Мальта</a>
       	<a href="" rel="nofollow">Молдова </a>		
       	<a href="" rel="nofollow">Нидерланды</a>
       	<a href="" rel="nofollow">Норвегия</a> 		
       	<a href="" rel="nofollow">Польша</a>
       	<a href="" rel="nofollow">Португалия </a>		
       	<a href="" rel="nofollow">Россия</a>
       	<a href="" rel="nofollow">Румыния </a>		
       	<a href="" rel="nofollow">Сан-Марино</a>
       	<a href="" rel="nofollow">Северная Ирландия </a>		
       	<a href="" rel="nofollow">Сербия</a>
       	<a href="" rel="nofollow">Словакия </a>		
       	<a href="" rel="nofollow">Словения</a>
       	<a href="" rel="nofollow">Турция</a> 		
       	<a href="" rel="nofollow">Украина</a>
       	<a href="" rel="nofollow">Уэльс</a>	
       	<a href="" rel="nofollow">Фарерские острова</a>
       	<a href="" rel="nofollow">Финляндия</a>		
       	<a href="" rel="nofollow">Франция</a>
       	<a href="" rel="nofollow">Хорватия </a>		
       	<a href="" rel="nofollow">Чехия</a>
       	<a href="" rel="nofollow">Швейцария </a>		
       	<a href="" rel="nofollow">Швеция</a>
       	<a href="" rel="nofollow">Шотландия</a> 		
       	<a href="" rel="nofollow">Эстония</a>

     email: "dopler@lineband.ri"

  -  author: "akella"
     id: "12318"
     url: "http://cssing.org.ua"
     date: "2008-04-23 15:27:12"
     humandate: "23 Apr, 2008"
     content: | 
       Попробуйте убрать паддинги и бордеры

     email: "akella.a@gmail.com"

  -  author: "Dimon"
     id: "12320"
     url: ""
     date: "2008-04-24 09:53:59"
     humandate: "24 Apr, 2008"
     content: | 
       akella делал я это
       но в чем тогда смысл разделителя?

     email: "dopler@lineband.ru"

  -  author: "akella"
     id: "12321"
     url: "http://cssing.org.ua"
     date: "2008-04-24 11:20:48"
     humandate: "24 Apr, 2008"
     content: | 
       Там в том ошибка, что когда ты задаешь width:50% и padding:15px; То ширина блока будет 50%+15px а не 50%. Такова модель. И потому они естественно не поместятся, так как сумма их ширин просто больше 100%.

     email: "akella.a@gmail.com"

layout: "layouts/post.njk"
excerpt: "Недавно пришла в голову простая идея эмуляции колонок одинаковой высоты без использования фонового рисунка. Метод этот подходит только для случаев, когда между колонками разделитель, а фоном колонки не выделяются. Однако из-за своей простоты заслуживает внимания. <a href=\"http://cssing.org.ua/examples/2equalcols/\">Смотреть  пример</a>.
"
---

Недавно пришла в голову простая идея эмуляции колонок одинаковой высоты без использования фонового рисунка. Метод этот подходит только для случаев, когда между колонками разделитель, а фоном колонки не выделяются. Однако из-за своей простоты заслуживает внимания. <a href="http://cssing.org.ua/examples/2equalcols/">Смотреть  пример</a>.
<!--more-->
<h3>Ситуация</h3>
Метод этот простой, и слово метод даже слишком сильное. Мелкий трюк возникший при верстке вот такого макета:
<img src="/images/2cols.png" alt="колонки с разным кол-вом контента но разделителем до низу" />
Где не было известно в какой из колонок будет больше текста, а разделитель должен был быть по высоте максимально длинной колонки.

Самым очевидным решением было бы обернуть эти колонки в какой то <code>div</code>, и для этого дива правильно спозиционировать фоновый однопиксельный рисунок ("повторить" рисунок по вертикали). Так сейчас решена идентичная проблема на сайте "<a href="http://alistapart.com">A list apart</a>". Решение было описано в статье  <a href="http://alistapart.com/articles/fauxcolumns/">Faux columns</a> (и <a href="http://cssing.org.ua/2004/09/10/flex-faux/">я когда то писал</a> об этом).

Однако, делать для этого картинку мне было <acronym title="самый главный мотиватор">лень</acronym>.
<h3>border + margin</h3>
HTML был примерно такой:
<ol class="code">
<li>&lt;div id=&quot;c1&quot;&gt;</li>
<li class="tab">тут контент</li>
<li>&lt;/div&gt;</li>
<li></li>
<li>&lt;div id=&quot;c2&quot;&gt;</li>
	<li class="tab">тут контент</li>
<li>&lt;/div&gt;</li>
</ol>
Самый простой CSS, для того что бы колонки встали одна за другой:
<ol class="code">
<li>#c1, #c2{</li>
<li class="tab">float:left;</li>
<li class="tab">width:281px;/*не имеет значения =)*/</li>
<li>}</li>
</ol>
В результате получались две колонки как на дизайне, но пока без разделителя.
Этот разделитель не что иное как обычная однопиксельная граница. Ее можно было бы задать для самой длинной колонки, но только если знать какая из них.... Потому зададим пока для обеих:
<ol class="code">
<li>#c1{border-<strong>right</strong>:1px solid #ccc}</li>
<li>#c2{border-<strong>left</strong>:1px solid #ccc}</li>
</ol>
В результате получилось то, что и ожидалось - сначала был двойной разделитель, а к низу оставалась только граница от большей колонки:
<img src="/images/2colsbad.png" alt="двойной разделитель между колонками, и одинарный внизу" />
Отсюда и пришло весьма простое решение:
<ol class="code">
<li>#c2{</li>
<li class="tab">margin-left:-1px</li>
<li>}</li>
</ol>
В результате, граница правой колонки накладывается поверх границы левой колонки, и мы получаем <strong>однопиксельный</strong> разделитель между ними. <a href="http://cssing.org.ua/examples/2equalcols/">Вот пример того, что получилось</a> (слегка приукрашенный для наглядности). А <a href="http://cssing.org.ua/examples/2equalcols/index1.html">здесь я раскрасил обе границы</a> в разный цвет.

Таким образом, теперь разделителем всегда будет служить граница большей колонки, поскольку она будет "выглядывать" из-за меньшей.

Можно сразу же развить этот метод и на три колонки, вот что получается:
<ul>
<li><a href="http://cssing.org.ua/examples/2equalcols/3cols.html">Для трех колонок</a> - интересно что разделители получаются - "умными", то есть они разделяют не до самого низу всю страницу, а разделяют только колонки. (можно поиграться с длиной колонок, что бы увидеть эффект)</li>
<li><a href="http://cssing.org.ua/examples/2equalcols/2coldes1.html">background вместо border</a> - просто заменяем border на background, и выставляем margin-left  равный ширине фоновой картинки.</li>
</ul>

<h3>В конце</h3>
Метод, конечно, до боли простой, но избавил от лишнего открытия фотошопа, да и сервер от лишнего миллиона ХТТП запросов, а это немало. :).  Вдобавок при изменении ширины колонок, нам больше не нужно изменять параллельно и позицию фоновой картинки как в <a href="http://alistapart.com/articles/fauxcolumns/">универсальном методе</a>.
И я уверен кто-то уже давно бессознательно пользовался приемом.
По использованию отрицательных полей, он напоминает мой недавний пост про "<a href="http://cssing.org.ua/2006/11/05/menu-separators/">Разделители в меню</a>". 
Надеюсь это кому-то упростит жизнь так же как и мне.

Буду рад услышать Ваши мысли, советы и рекомендации!
