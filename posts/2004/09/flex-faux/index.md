---
title: "Простой прием или колонки «одинаковой высоты»"
date: "2004-09-10"
humanDate: "10 Sep, 2004"
permalink: "2004/09/10/flex-faux/"
tags: 
  - "xhtmlcss"
  - "design"
  - "useful"
comments: 
  -  author: "Vanav"
     id: "33"
     url: "http://vanav.iatp.org.ua"
     date: "2004-09-10 22:37:24"
     humandate: "10 Sep, 2004"
     content: | 
       Да, если нужен другой фон для колонки, то это, похоже, единственное решение для такой вёрстки.
       
       Хочу сразу предостеречь о небольших недостатках такого подхода (float:left), это не относится к фону колонок, скорее, к верстке с float-колонками вообще:
       - если внутри контента встречается clear:both (а это реально, если там не просто сплошной текст), то в этом месте порвутся колонки;
       - колонка с контентом (центральная) всегда будет последней в исходном тексте, если применять метод "в лоб";
       - всплывают некоторые баги IE (3px jog etc.), если float контактирует с не-float.
       
       Просто всегда радовало, когда гуру описывают новый метод, умалчивая о граблях, поставляющихся в комплекте :)

     email: "v@ua.fm"

  -  author: "akella"
     id: "35"
     url: "http://cssing.iatp.org.ua"
     date: "2004-09-11 12:28:19"
     humandate: "11 Sep, 2004"
     content: | 
       Да конечно не без граблей, но ведь главное фон резиновый, а там уже наши проблемы. Тем более, что сейчас наверно на каждый глюк по три хака и по 10 workaround'ов. :)

     email: "spin_yura@mail.ru"

  -  author: "Yukki Pospel"
     id: "37"
     url: "http://blog.emo.com.ua"
     date: "2004-09-12 20:36:24"
     humandate: "12 Sep, 2004"
     content: | 
       Ко всем этим багам есть "фиксы" :) которые можно найти здесь:
       http://www.positioniseverything.net/

     email: "creative@emo.com.ua"

  -  author: "Александр"
     id: "15058"
     url: ""
     date: "2010-01-12 21:50:33"
     humandate: "12 Jan, 2010"
     content: | 
       с использованием JavaScript без всяких там jQuery страница в три плавающих колонки одинаковой высоты пишется быстрее и красивей, а JS в наше время помоему во всех браузерах работает.

     email: "alnimu@gmail.com"

  -  author: "Александр"
     id: "15059"
     url: ""
     date: "2010-01-12 21:52:11"
     humandate: "12 Jan, 2010"
     content: | 
       кстати насчет кроссбраузерности типа "не существует решения" БРЭД. сам проверял во всех браузерах отлично работает!

     email: "alnimu@gmail.com"

  -  author: "sonika"
     id: "10941"
     url: ""
     date: "2007-05-06 02:13:02"
     humandate: "06 May, 2007"
     content: | 
       Мне понравился <strong>Пример Мейера</strong> с тремя резиновыми колонками, то, что было нужно в данный момент, спасибо за ссылку!
       А что сделать в случае, если высота колонок (и всего контейнера <em>div class="container"</em> соответственно) заранее неизвестна?
       (в примере http://meyerweb.com/eric/css/edge/sliding-faux/demo.html высота .container задана в 300px)
       Если убрать высоту, IE кушает, а вот Опера и FF картинки 2000-3000.gif и 1000-3000.gif перестают отображать. В %% (вместо пикселей) высота не помогает что-то…

     email: "sonika@sonika.ru"

  -  author: "akella"
     id: "10942"
     url: "http://cssing.org.ua"
     date: "2007-05-06 12:22:00"
     humandate: "06 May, 2007"
     content: | 
       Видимо имеется ввиду что колонки сделаны через float, тогда надо что бы эти элементы растянулись до содержащих флоатов А это например можно либо с помощью div class="clr" сразу после колонок и потом
       .clr{clear:both}.
       
       Либо для окаймляющего элемента задавать
       .parent{
       width:100%;/*IE*/
       overflow:hidden;/*all others*/
       }
       
       Если я не так понял, дай ссылку на пример...

     email: "akella.a@gmail.com"

  -  author: "sonika"
     id: "10943"
     url: ""
     date: "2007-05-06 18:02:43"
     humandate: "06 May, 2007"
     content: | 
       Собственно говоря, вот что у меня на данный момент:
       http://sonika.ru/trash/Sliding-Faux-Columns/demo-my.html
       (колонки я сделала 22%, 56% и 22% шириной).
       В IE картинки в background 660-3000.gif и 2340-3000.gif «размножаются» до конца div class="container", а в Опере и FF — только до высоты div class="outer" 300px
       Если убираю
       <code>height: 300px; у .outer</code>
       картинки вообще пропадают.

     email: "sonika@sonika.ru"

  -  author: "akella"
     id: "10944"
     url: "http://cssing.org.ua"
     date: "2007-05-06 18:28:53"
     humandate: "06 May, 2007"
     content: | 
       Попробуй заменить вопросительное:
       height: 300px; /* ??? */
       На восклицательное:
       overflow:hidden; /* !!! */
       
       =)

     email: "akella.a@gmail.com"

  -  author: "sonika"
     id: "10945"
     url: ""
     date: "2007-05-06 19:25:39"
     humandate: "06 May, 2007"
     content: | 
       Юра, спасибо, восклицательные знаки помогли! :)

     email: "sonika@sonika.ru"

  -  author: "cssing :: Архив :: Блок внизу одной из колонок"
     id: "13064"
     url: "http://cssing.org.ua/2008/08/14/valign-bottom/"
     date: "2008-08-14 10:21:11"
     humandate: "14 Aug, 2008"
     content: | 
       [...] считать, что кунг-фу колонок одинаковой высоты все уже умеют делать. Тогда после нехитрого CSS, у нас [...]

     email: ""

  -  author: "Lost_Sense"
     id: "13075"
     url: ""
     date: "2008-08-14 16:54:23"
     humandate: "14 Aug, 2008"
     content: | 
       akella, в твоем примере прописана высота для блоков. если ее убрать то фон исчезает. а фишка же в том и есть, чтоб высота была динамическая и фон растягивался на всю высоту контента. или я что-то не так понимаю?

     email: "hobot88@bk.ru"

  -  author: "akella"
     id: "13076"
     url: "http://cssing.org.ua"
     date: "2008-08-14 17:30:52"
     humandate: "14 Aug, 2008"
     content: | 
       Высоту я там забил только чтобы показать фон блоков, почему-то я не догадался просто вбить туда тучу текста =) Это было 4 года назад!! Огого!
        
       Все поправил! http://cssing.org.ua/examples/liquidfaux.html, спасибо за указание!

     email: "akella.a@gmail.com"

  -  author: "Bohdan"
     id: "13298"
     url: "http://bohdan.com.ua"
     date: "2008-09-26 18:20:46"
     humandate: "26 Sep, 2008"
     content: | 
       Друзі, в мене питання по темі але не зовсім.. Є проблема з float:left. Скажімо є перелік блоків thumbnails. У кожному є сталої висоти малюнок, а під ним текст.. Текст різний, відповідно, в результаті одного блоку висота більша ніж в іншого. min-height не панацея, бо лишає велику пустоту внизу (у мене гумовий дизайн, і текст при маленькій роздільній здатності внизу малюнка, а при великій перелазить вправо, бо текст розтягується до ширини блоку). Ось приклад http://domivka.net.ua/temp/eag/pmm2/ . звузьте екран до 800 на 600 і побачите що один із div'ів випадає. Треба щоби при збільшенні розміру блоку з найбільшим текстом, не випадали інші.. В таблицях це легко.. там всі чарунки (ячейки) однакової висоти.. Блоки це не дозволяють робити.. Можна позбочуватися шляхом створення ще одного горизонтального блоку для двох div'ів, але це перебор. Дякую..

     email: "bohdan@gmail.com"

  -  author: "akella"
     id: "13299"
     url: "http://cssing.org.ua"
     date: "2008-09-26 18:26:33"
     humandate: "26 Sep, 2008"
     content: | 
       В данном конкретном случае мне кажется лучше запретить тексту сползать под картинку, пусть лучше блоки сползают чуть раньше, зато высота будет определяться картинкой.
       А?

     email: "akella.a@gmail.com"

  -  author: "Bohdan"
     id: "13300"
     url: "http://bohdan.com.ua"
     date: "2008-09-26 18:29:22"
     humandate: "26 Sep, 2008"
     content: | 
       тут проблема шо якраз сповзанням тексту під малюнок я вирішую проблему нестачі горизонтального місця для розміщення всіх елементів сайту при 1024 і нижче

     email: "bohdan@gmail.com"

  -  author: "akella"
     id: "13303"
     url: "http://cssing.org.ua"
     date: "2008-09-27 01:17:41"
     humandate: "27 Sep, 2008"
     content: | 
       Возможно вам окажется полезной одна из техник http://cssing.org.ua/2008/09/17/adaptive-boxes/
       Мне кажется лучше оставлять один блок, при сильном сжатии.
       ну, либо добавить div style="clear:both" после двух блоков.

     email: "akella.a@gmail.com"

  -  author: "Bohdan"
     id: "13304"
     url: "http://bohdan.com.ua"
     date: "2008-09-27 12:36:01"
     humandate: "27 Sep, 2008"
     content: | 
       ще є варіант - display:table-row; для двох блоків.. Дякую за консультації. Класний і корисний сайт!

     email: "bohdan@gmail.com"

  -  author: "Роман"
     id: "13366"
     url: "http://menzone.ru"
     date: "2008-10-06 16:01:00"
     humandate: "06 Oct, 2008"
     content: | 
       Наверное стоит *одинаковой высоты* в заголовке поместить в кавычки. Потому как приведён пример "псевдо-одинаковых" колонок. Кроссбраузерного решения действительно одинаковых по высоте колонок не существует.

     email: "granturismo@mail.ru"

  -  author: "akella"
     id: "13368"
     url: "http://cssing.org.ua"
     date: "2008-10-07 09:28:01"
     humandate: "07 Oct, 2008"
     content: | 
       Вы в хорошем смысле педантичны, Роман. Добавил кавычки, хотя кроссброузерное решение вроде ж было? Просто извращенное всякими ИЕ-штучками и display:table. Ну разве трудно парой экспрешнов заставить все отображаться нормально =)

     email: "akella.a@gmail.com"

  -  author: "Vasser"
     id: "13884"
     url: ""
     date: "2008-12-29 19:20:29"
     humandate: "29 Dec, 2008"
     content: | 
       А если просто задать для body фон такого цвета, каким должен быть фон второй колонки? Нормально работает. Для других див"ов просто ставим свой фон. Вот так посто решаем проблему

     email: "vasser88@yandex.ru"

  -  author: "akella"
     id: "13886"
     url: "http://cssing.org.ua"
     date: "2008-12-30 12:45:13"
     humandate: "30 Dec, 2008"
     content: | 
       Да, можно и так, но это только при условии что мы знаем какая из колонок будет выше-короче.

     email: "akella.a@gmail.com"

layout: "layouts/post.njk"
excerpt: "После недавних статей <a href=\"http://www.stopdesign.com/log/2004/09/03/liquid-bleach.html\">Liquid Bleach</a>  и <a href=\"http://www.meyerweb.com/eric/thoughts/2004/09/03/sliding-faux-columns/\">Sliding Faux Columns</a> захотелось это как то обобщить что ли, вобщем говоря изложить на русском. Разумеется ни в коей мере не предендуя на оригинальную идею. К тому же я не нашел перевода статьи <a href=\"http://www.alistapart.com/articles/fauxcolumns/\">Faux Columns</a> (<a href=\"http://simplebits.com/\" title=\"его сайт\">Dan Cederholm</a>) (может плохо искал?). Вот об этой простой технике и о её не менее простом продолжении и пойдет речь."
---

После недавних статей <a href="http://www.stopdesign.com/log/2004/09/03/liquid-bleach.html">Liquid Bleach</a>  и <a href="http://www.meyerweb.com/eric/thoughts/2004/09/03/sliding-faux-columns/">Sliding Faux Columns</a> захотелось это как то обобщить что ли, вобщем говоря изложить на русском. Разумеется ни в коей мере не предендуя на оригинальную идею. К тому же я не нашел перевода статьи <a href="http://www.alistapart.com/articles/fauxcolumns/">Faux Columns</a> (<a href="http://simplebits.com/" title="его сайт">Dan Cederholm</a>) (может плохо искал?). Вот об этой простой технике и о её не менее простом продолжении и пойдет речь.<!--more-->
Сначала понятно как всегда встала проблема.
<h3>Проблема</h3>

Проблема встала сразу после начала активного перехода с таблиц.  И заключалась в колоночном дизайне. Допустим у нас страничка состоит из двух колонок. В одной все содержание, а в другой какая-нибудь навигация (примерно как на этой самой странице). Резонным будет желание сделать их разного цвета. 

Как водится колонки в "стандартном дизайне" это <code>div</code>. И если задать этот цвет прямо для <em>них</em>, то он отнюдь не продолжится до самого низа. То есть картина будет примерно такая:
<img style="padding:3px;border:1px solid #ccc;" src="http://cssing.org.ua/pic/columns/bad.gif" alt="неплохо, но можно лучше" title="неплохо, но можно лучше" />
Это конечно не совсем плохой вариант, но логичнее было бы сделать так:
<img style="padding:3px;border:1px solid #ccc;" src="http://cssing.org.ua/pic/columns/good.gif" alt="намного лучше" title="намного лучше" />

Но кто ж сказал <code>div</code>'ам быть одинаковой высоты. Это было просто, когда были таблицы, там ячейки всегда были одинаковой высоты (в каждой строке). А с дивами было сложнее. Вот в этом и заключается проблема.

<h3>"Фиксированное" решение</h3>

Первое решение изложил <a href="http://simplebits.com/" title="его сайт">Dan Cederholm</a> в своей статье на <a href="http://alistapart.com/">A List Apart</a> называвшейся <a href="http://www.alistapart.com/articles/fauxcolumns/">Faux Columns</a>. Можете подробнее почитать там, а я изложу основной прием. 

Пускай эти две колонки содержатся в <code>div</code>'e. И у этого <code>div</code>'а фиксированная ширина (как и у двух колонок, что в нем). Тогда можно использовать вот такую картинку:
<img style="padding:3px;border:1px solid #ccc;" src="http://cssing.org.ua/pic/columns/goodbg.gif" alt="почти мой фон" title="почти мой фон" />
 (картинка немного уменьшена, на самом деле её ширина должна совпадать с шириной внешнего <code>div</code>'а). И вместе с тем такой CSS:
<pre>
#внешнийДИВ{
background: #fff url(bg.gif) <strong>repeat-y</strong> 0 0;
}
</pre>

То есть повторяем этот фоновый рисунок по вертикали для обёртывающего <code>div</code>'а, а он как раз должен содержать внутри оба наших первых блока. Таким образом создаётся эффект одинаковой высоты этих блоков. Но это все разумеется лишь для колонок фиксированной ширины.

<h3>"Резиновое" решение</h3>

Второе решение всплыло недавно. Наверно правильно будет отнести авторство к двум людям: <a href="http://www.stopdesign.com/" >Douglas Bowman</a> и <a href="http://www.meyerweb.com/">Eric Meyer</a>. Вот они и изобрели простое решение все той же проблемы, но уже для резиновых страничек. Вот здесь их оригинальные статьи на <a href="http://www.stopdesign.com/log/2004/09/03/liquid-bleach.html">stopdesign.com</a> и <a href="http://www.meyerweb.com/eric/thoughts/2004/09/03/sliding-faux-columns/">meyerweb.com</a>

Основная идея использованная в этом приёме очень похожа на идею использованную все тем же Бауманом в своей статье <a href="http://www.id-as.com/arts/ala/slidingdoors/">Sliding Doors of CSS</a> (на русском+ <a href="http://www.id-as.com/arts/ala/slidingdoors2/">вторая часть</a>). Прием заключается в создании очень большого изображения (или двух, если дизайн из трех колонок). Картинка должна быть отчасти полностью прозрачной, а в другой части должен содержаться рисунок. Эту картинку нужно, так же как и в первом приеме, повторять вертикально (<code>repeat-y</code>). 

Однако сама картинка теперь уже зависит от пропорций вашей странички.  Например Мейер использовал в примерах трехколоночный дизайн. Для этого понадобились такие изображения 1000-2000.gif 2000-3000.gif. Эти картинки говорят своими названиями о <em>том</em>, где они <strong>непрозрачны</strong>. И использовал он разумеется дизайн, где все три колонки имеют ширину 33% от внешнего блока. Тогда нужен такой CSS:

<pre>
.one {background: url(1000-3000.gif) <strong>33%</strong> 0 repeat-y;}
.two {background: url(2000-3000.gif) <strong>67%</strong> 0 repeat-y;}
</pre>

<a href="http://www.meyerweb.com/eric/css/edge/sliding-faux/demo.html">Примеры Мейера</a> слегка усложнены. Я например не сразу понял в чем ключ (секунд десять потерял :))(хотя то вобщем-то не примеры, а тестовый набор) Вот <a href="http://cssing.org.ua/examples/liquidfaux.html">мой пример</a>, он годится лишь для двухколоночного дизайна(66%/33%). Но я думаю его простота поможет кому-то лучше разобраться. Попробуйте посжимать страничку с примером. Вы должны увидеть как меняется ширина правой колонки, но пропорции их остаются прежними. 

Вот это собственно и все об этой технике. Как говорит гуру (Мейер) этот трюк поддерживается хорошо. Есть какие-то мелкие глюки на Mac, но нам ли о них горевать.

<h3>Ссылки по теме</h3>
<ul>
<li><a href="http://www.meyerweb.com/eric/css/edge/sliding-faux/demo.html">Пример Мейера</a></li>
<li><a href="http://cssing.org.ua/examples/liquidfaux.html">Мой пример</a></li>
<li><a href="http://www.stopdesign.com/log/2004/09/03/liquid-bleach.html">Liquid Bleach</a></li>
<li><a href="http://www.meyerweb.com/eric/thoughts/2004/09/03/sliding-faux-columns/">Sliding Faux Columns</a></li>
<li><a href="http://www.alistapart.com/articles/fauxcolumns/">Faux Columns</a></li>
</ul>
